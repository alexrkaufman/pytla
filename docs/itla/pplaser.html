<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>itla.pplaser API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../itla.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;itla</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#Mode">Mode</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#Mode.normal">normal</a>
                        </li>
                        <li>
                                <a class="variable" href="#Mode.nodither">nodither</a>
                        </li>
                        <li>
                                <a class="variable" href="#Mode.whisper">whisper</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PPLaser">PPLaser</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PPLaser.__init__">PPLaser</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.connect">connect</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.set_fcf">set_fcf</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.get_mode">get_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.set_mode">set_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.normalmode">normalmode</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.nodithermode">nodithermode</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.whispermode">whispermode</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.get_cleansweep_amplitude">get_cleansweep_amplitude</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.set_cleansweep_amplitude">set_cleansweep_amplitude</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.cleansweep_enable">cleansweep_enable</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.cleansweep_disable">cleansweep_disable</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.cleansweep_setup">cleansweep_setup</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.get_cleansweep_rate">get_cleansweep_rate</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.set_cleansweep_rate">set_cleansweep_rate</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.get_cleansweep_offset">get_cleansweep_offset</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.set_cleansweep_offset">set_cleansweep_offset</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.cleanjump">cleanjump</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.set_cleanjump">set_cleanjump</a>
                        </li>
                        <li>
                                <a class="function" href="#PPLaser.cleanjump_calibration">cleanjump_calibration</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../itla.html">itla</a><wbr>.pplaser    </h1>

                
                        <input id="mod-pplaser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-pplaser-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntEnum</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">time</span><span class="w"> </span><span class="kn">import</span> <span class="n">sleep</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">logger</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.itla12</span><span class="w"> </span><span class="kn">import</span> <span class="n">ITLA12</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.itla_errors</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a>    <span class="n">RVEError</span><span class="p">,</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="p">)</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Mode</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>    <span class="n">normal</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a>    <span class="n">nodither</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>    <span class="n">whisper</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="k">class</span><span class="w"> </span><span class="nc">PPLaser</span><span class="p">(</span><span class="n">ITLA12</span><span class="p">):</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="sd">    The pure photonics laser class implements specific features or handles particular</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="sd">    quirks of the pure photonics laser. The pure photonics laser has additional</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="sd">    registers for a couple of applications.</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="sd">    * `set_frequency` and `set_fcf` had to be overridden</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="sd">    * `get_frequency` is *not* overridden because these registers can still be read without issue</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serial_port</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">,</span> <span class="n">sleep_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;sets up the additional frequency max and min variables which will be set upon</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="sd">        connecting to the laser. We have found that Pure Photonics lasers do not</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="sd">        return the RVEError when setting the frequency out of spec.</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="sd">        This sets up the additional register yaml file for pure photonics specific functions.</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>        <span class="n">register_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;registers_pp.yaml&quot;</span><span class="p">]</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>            <span class="n">serial_port</span><span class="p">,</span> <span class="n">baudrate</span><span class="p">,</span> <span class="n">register_files</span><span class="o">=</span><span class="n">register_files</span><span class="p">,</span> <span class="n">sleep_time</span><span class="o">=</span><span class="n">sleep_time</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>        <span class="p">)</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overriden connect function with query for max and min frequency&quot;&quot;&quot;</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_frequency_max</span><span class="p">()</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_frequency_min</span><span class="p">()</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_fcf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">):</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="sd">        This sets the first channel frequency.</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">        It does not reset the channel so this frequency will only be equal</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">        to the output frequency if channel=1.</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">        Because the `set_frequency` function calls this function this will also</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="sd">        correct the issue in setting the frequency generally.</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="sd">        verifies that fcf is set within the appropriate laser frequency range</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="sd">        and raises RVE error if not</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>        <span class="k">if</span> <span class="n">freq</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="ow">or</span> <span class="n">freq</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span><span class="p">:</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>            <span class="k">raise</span> <span class="n">RVEError</span><span class="p">(</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>                <span class="s2">&quot;The desired frequency is outside of the range for this laser.&quot;</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>            <span class="p">)</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_fcf</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get which low noise mode&quot;&quot;&quot;</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">()</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">Mode</span><span class="p">(</span><span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">))</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>        <span class="k">return</span> <span class="n">response</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">normalmode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set mode to standard dither mode&quot;&quot;&quot;</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">)</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">nodithermode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set mode to nodither mode</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a><span class="sd">        It is unclear whether this just also activates whisper mode.</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a><span class="sd">        The feature guide says &quot;a value of 1 defaults to 2&quot;.</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">nodither</span><span class="p">)</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">whispermode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enables whisper mode where all control loops</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="sd">        are disabled resulting in a lower noise mode.&quot;&quot;&quot;</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">whisper</span><span class="p">)</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the amplitude of the clean sweep.</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_csrange</span><span class="p">()</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>        <span class="n">cs_amplitude</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>        <span class="k">return</span> <span class="n">cs_amplitude</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_GHz</span><span class="p">):</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the amplitude of the clean sweep.</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csrange</span><span class="p">(</span><span class="n">range_GHz</span><span class="p">)</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enables clean sweep mode.</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mode</span><span class="p">()</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">:</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>                <span class="s2">&quot;Laser currently in normal mode.&quot;</span><span class="p">,</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>                <span class="s2">&quot;please set to nodither or whisper mode&quot;</span><span class="p">,</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>            <span class="p">)</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csstart</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Turn&#39;s off clean sweep mode.&quot;&quot;&quot;</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csstart</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq_low</span><span class="p">,</span> <span class="n">freq_high</span><span class="p">):</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a><span class="sd">        A wrapper function that takes the start and end frequencies</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a><span class="sd">        you would like to sweep over. It computes and sets the clean sweep</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a><span class="sd">        amplitude and the midpoint.</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a><span class="sd">        The clean sweep operation will begin in the center of the high and low.</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>        <span class="k">if</span> <span class="n">freq_low</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="ow">or</span> <span class="n">freq_high</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span><span class="p">:</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>                <span class="s2">&quot;The range you would like to sweep over&quot;</span><span class="p">,</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>                <span class="s2">&quot;is outside of the bounds for this laser&quot;</span><span class="p">,</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>            <span class="p">)</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>        <span class="c1"># sets the clean sweep amplitude rounded to the nearest MHz.</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>        <span class="n">cs_ampl</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">freq_high</span> <span class="o">-</span> <span class="n">freq_low</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e3</span><span class="p">)</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="k">if</span> <span class="n">cs_ampl</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>                <span class="s2">&quot;This is an error specific to SpectrumLab.&quot;</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>                <span class="s2">&quot;Our laser has a 50GHz maximum cleansweep range.&quot;</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>                <span class="s2">&quot;You should change the limit in source for your laser.&quot;</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>                <span class="s2">&quot;If you know a way to query the laser for this value&quot;</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>                <span class="s2">&quot;then implementing that would be better.&quot;</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>            <span class="p">)</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_cleansweep_amplitude</span><span class="p">(</span><span class="n">cs_ampl</span><span class="p">)</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>        <span class="n">cs_center</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">freq_low</span> <span class="o">+</span> <span class="n">freq_high</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e4</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-4</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">cs_center</span><span class="p">)</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the clean sweep rate. not sure about units.&quot;&quot;&quot;</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_csrate</span><span class="p">()</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>        <span class="n">cs_rate</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>        <span class="k">return</span> <span class="n">cs_rate</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate_MHz</span><span class="p">):</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;sets the cleansweep rate in MHz/sec</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="sd">        idk if there is a way to check if its within some bounds.</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a><span class="sd">        There is conflicting info in the pure photonics docs.&quot;&quot;&quot;</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;Dont use this. Need to confirm the units for the sweep rate.&quot;</span><span class="p">)</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csrate</span><span class="p">(</span><span class="n">rate_MHz</span><span class="p">)</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;This is not implemented yet.&quot;</span><span class="p">)</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;This is not implemented yet.&quot;</span><span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleanjump</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Tells the laser to perform the clean jump.</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a><span class="sd">        The clean jump must be precalibrated.</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="sd">        You should have the calibration points in your lab notebook</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="sd">        or written down somewhere.</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="sd">        If not you should perform the clean jump calibration.&quot;&quot;&quot;</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>        <span class="n">mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mode</span><span class="p">()</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">:</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>                <span class="s2">&quot;Laser in normal mode. You must be in nodither&quot;</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>                <span class="s2">&quot;or whisper mode to use cleanjump.&quot;</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>            <span class="p">)</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjstart</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleanjump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq_jump</span><span class="p">):</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a><span class="sd">        Set the size of the jump in THz to the fourth decimal place.</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="sd">        XXX.XXXX</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>        <span class="n">freq_jump</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">freq_jump</span> <span class="o">*</span> <span class="mf">1e4</span><span class="p">))</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjthz</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">freq_jump</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]))</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjghz</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">freq_jump</span><span class="p">[</span><span class="mi">3</span><span class="p">:]))</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleanjump_calibration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fcf</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">pwr</span><span class="p">,</span> <span class="n">n_jumppoints</span><span class="p">,</span> <span class="n">confirmation</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a><span class="sd">        This is a grid based calibration</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a><span class="sd">        **fcf**: the first channel frequency you would like to</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a><span class="sd">        begin calibration at. (THz)</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="sd">        **grid**: the grid spacing (GHz)</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a><span class="sd">        **pwr**: The power calibration will be at. (dBm)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a><span class="sd">        **n_jumppoints**: The number of grid points to calibrate.</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a><span class="sd">        **confirmation**: If you would like to go ahead and confirm yes</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a><span class="sd">        and skip the user input you can set confirmation to &#39;y&#39;</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>        <span class="c1"># calibration begins by writing the number of channels to 0xD2</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>        <span class="n">calibration_points</span> <span class="o">=</span> <span class="p">[</span><span class="n">fcf</span> <span class="o">+</span> <span class="n">grid</span> <span class="o">*</span> <span class="n">n</span> <span class="o">*</span> <span class="mf">1e-3</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_jumppoints</span><span class="p">)]</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>            <span class="sa">f</span><span class="s2">&quot;You are calibrating </span><span class="si">{</span><span class="n">n_jumppoints</span><span class="si">}</span><span class="s2"> clean jump setpoints&quot;</span><span class="p">,</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>            <span class="sa">f</span><span class="s2">&quot;at frequencies:</span><span class="se">\n</span><span class="si">{</span><span class="n">calibration_points</span><span class="si">}</span><span class="s2">(THz).&quot;</span><span class="p">,</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>            <span class="sa">f</span><span class="s2">&quot;With power = </span><span class="si">{</span><span class="n">pwr</span><span class="si">}</span><span class="s2">(dBm).&quot;</span><span class="p">,</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>        <span class="p">)</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>            <span class="s2">&quot;Write these down in your lab notebook because&quot;</span><span class="p">,</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>            <span class="s2">&quot;you cannot query the device for these values later.&quot;</span><span class="p">,</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>        <span class="p">)</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="n">confirmation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>            <span class="n">confirmation</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Is the information above correct? (y/n): &quot;</span><span class="p">)</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>        <span class="k">if</span> <span class="n">confirmation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>            <span class="c1"># set up the first channel frequency, grid spacing, and power</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">fcf</span><span class="p">)</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_power</span><span class="p">(</span><span class="n">pwr</span><span class="p">)</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cleanjump_calibration</span><span class="p">(</span><span class="n">n_jumppoints</span><span class="p">)</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>        <span class="k">elif</span> <span class="n">confirmation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>                <span class="sa">f</span><span class="s2">&quot;You answered </span><span class="si">{</span><span class="n">confirmation</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="s2">&quot;Calibration will not be performed.&quot;</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>            <span class="p">)</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;input not recognized&quot;</span><span class="p">)</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_cleanjump_calibration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_jumppoints</span><span class="p">):</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>        <span class="c1"># does this return a response with bit 15 active?</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjcalibration</span><span class="p">(</span><span class="n">n_jumppoints</span><span class="p">)</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>        <span class="n">is_calibrating</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>        <span class="k">while</span> <span class="n">is_calibrating</span><span class="p">:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cjcalibration</span><span class="p">()</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>            <span class="n">response_bits</span> <span class="o">=</span> <span class="p">[</span><span class="n">bit</span> <span class="k">for</span> <span class="n">bit</span> <span class="ow">in</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="si">:</span><span class="s2">08</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>            <span class="n">is_calibrating</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">response_bits</span><span class="p">[</span><span class="mi">15</span><span class="p">])</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>            <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="Mode">
                            <input id="Mode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Mode</span><wbr>(<span class="base">enum.IntEnum</span>):

                <label class="view-source-button" for="Mode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Mode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Mode-12"><a href="#Mode-12"><span class="linenos">12</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Mode</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
</span><span id="Mode-13"><a href="#Mode-13"><span class="linenos">13</span></a>    <span class="n">normal</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Mode-14"><a href="#Mode-14"><span class="linenos">14</span></a>    <span class="n">nodither</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Mode-15"><a href="#Mode-15"><span class="linenos">15</span></a>    <span class="n">whisper</span> <span class="o">=</span> <span class="mi">2</span>
</span></pre></div>


    

                            <div id="Mode.normal" class="classattr">
                                <div class="attr variable">
            <span class="name">normal</span>        =
<span class="default_value">&lt;<a href="#Mode.normal">Mode.normal</a>: 0&gt;</span>

        
    </div>
    <a class="headerlink" href="#Mode.normal"></a>
    
    

                            </div>
                            <div id="Mode.nodither" class="classattr">
                                <div class="attr variable">
            <span class="name">nodither</span>        =
<span class="default_value">&lt;<a href="#Mode.nodither">Mode.nodither</a>: 1&gt;</span>

        
    </div>
    <a class="headerlink" href="#Mode.nodither"></a>
    
    

                            </div>
                            <div id="Mode.whisper" class="classattr">
                                <div class="attr variable">
            <span class="name">whisper</span>        =
<span class="default_value">&lt;<a href="#Mode.whisper">Mode.whisper</a>: 2&gt;</span>

        
    </div>
    <a class="headerlink" href="#Mode.whisper"></a>
    
    

                            </div>
                </section>
                <section id="PPLaser">
                            <input id="PPLaser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PPLaser</span><wbr>(<span class="base"><a href="itla12.html#ITLA12">itla.itla12.ITLA12</a></span>):

                <label class="view-source-button" for="PPLaser-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser-18"><a href="#PPLaser-18"><span class="linenos"> 18</span></a><span class="k">class</span><span class="w"> </span><span class="nc">PPLaser</span><span class="p">(</span><span class="n">ITLA12</span><span class="p">):</span>
</span><span id="PPLaser-19"><a href="#PPLaser-19"><span class="linenos"> 19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser-20"><a href="#PPLaser-20"><span class="linenos"> 20</span></a><span class="sd">    The pure photonics laser class implements specific features or handles particular</span>
</span><span id="PPLaser-21"><a href="#PPLaser-21"><span class="linenos"> 21</span></a><span class="sd">    quirks of the pure photonics laser. The pure photonics laser has additional</span>
</span><span id="PPLaser-22"><a href="#PPLaser-22"><span class="linenos"> 22</span></a><span class="sd">    registers for a couple of applications.</span>
</span><span id="PPLaser-23"><a href="#PPLaser-23"><span class="linenos"> 23</span></a>
</span><span id="PPLaser-24"><a href="#PPLaser-24"><span class="linenos"> 24</span></a><span class="sd">    * `set_frequency` and `set_fcf` had to be overridden</span>
</span><span id="PPLaser-25"><a href="#PPLaser-25"><span class="linenos"> 25</span></a><span class="sd">    * `get_frequency` is *not* overridden because these registers can still be read without issue</span>
</span><span id="PPLaser-26"><a href="#PPLaser-26"><span class="linenos"> 26</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="PPLaser-27"><a href="#PPLaser-27"><span class="linenos"> 27</span></a>
</span><span id="PPLaser-28"><a href="#PPLaser-28"><span class="linenos"> 28</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serial_port</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">,</span> <span class="n">sleep_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
</span><span id="PPLaser-29"><a href="#PPLaser-29"><span class="linenos"> 29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;sets up the additional frequency max and min variables which will be set upon</span>
</span><span id="PPLaser-30"><a href="#PPLaser-30"><span class="linenos"> 30</span></a><span class="sd">        connecting to the laser. We have found that Pure Photonics lasers do not</span>
</span><span id="PPLaser-31"><a href="#PPLaser-31"><span class="linenos"> 31</span></a><span class="sd">        return the RVEError when setting the frequency out of spec.</span>
</span><span id="PPLaser-32"><a href="#PPLaser-32"><span class="linenos"> 32</span></a>
</span><span id="PPLaser-33"><a href="#PPLaser-33"><span class="linenos"> 33</span></a><span class="sd">        This sets up the additional register yaml file for pure photonics specific functions.</span>
</span><span id="PPLaser-34"><a href="#PPLaser-34"><span class="linenos"> 34</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-35"><a href="#PPLaser-35"><span class="linenos"> 35</span></a>        <span class="n">register_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;registers_pp.yaml&quot;</span><span class="p">]</span>
</span><span id="PPLaser-36"><a href="#PPLaser-36"><span class="linenos"> 36</span></a>
</span><span id="PPLaser-37"><a href="#PPLaser-37"><span class="linenos"> 37</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="PPLaser-38"><a href="#PPLaser-38"><span class="linenos"> 38</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="PPLaser-39"><a href="#PPLaser-39"><span class="linenos"> 39</span></a>
</span><span id="PPLaser-40"><a href="#PPLaser-40"><span class="linenos"> 40</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="PPLaser-41"><a href="#PPLaser-41"><span class="linenos"> 41</span></a>            <span class="n">serial_port</span><span class="p">,</span> <span class="n">baudrate</span><span class="p">,</span> <span class="n">register_files</span><span class="o">=</span><span class="n">register_files</span><span class="p">,</span> <span class="n">sleep_time</span><span class="o">=</span><span class="n">sleep_time</span>
</span><span id="PPLaser-42"><a href="#PPLaser-42"><span class="linenos"> 42</span></a>        <span class="p">)</span>
</span><span id="PPLaser-43"><a href="#PPLaser-43"><span class="linenos"> 43</span></a>
</span><span id="PPLaser-44"><a href="#PPLaser-44"><span class="linenos"> 44</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-45"><a href="#PPLaser-45"><span class="linenos"> 45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overriden connect function with query for max and min frequency&quot;&quot;&quot;</span>
</span><span id="PPLaser-46"><a href="#PPLaser-46"><span class="linenos"> 46</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="PPLaser-47"><a href="#PPLaser-47"><span class="linenos"> 47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_frequency_max</span><span class="p">()</span>
</span><span id="PPLaser-48"><a href="#PPLaser-48"><span class="linenos"> 48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_frequency_min</span><span class="p">()</span>
</span><span id="PPLaser-49"><a href="#PPLaser-49"><span class="linenos"> 49</span></a>
</span><span id="PPLaser-50"><a href="#PPLaser-50"><span class="linenos"> 50</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_fcf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">):</span>
</span><span id="PPLaser-51"><a href="#PPLaser-51"><span class="linenos"> 51</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser-52"><a href="#PPLaser-52"><span class="linenos"> 52</span></a><span class="sd">        This sets the first channel frequency.</span>
</span><span id="PPLaser-53"><a href="#PPLaser-53"><span class="linenos"> 53</span></a><span class="sd">        It does not reset the channel so this frequency will only be equal</span>
</span><span id="PPLaser-54"><a href="#PPLaser-54"><span class="linenos"> 54</span></a><span class="sd">        to the output frequency if channel=1.</span>
</span><span id="PPLaser-55"><a href="#PPLaser-55"><span class="linenos"> 55</span></a>
</span><span id="PPLaser-56"><a href="#PPLaser-56"><span class="linenos"> 56</span></a><span class="sd">        Because the `set_frequency` function calls this function this will also</span>
</span><span id="PPLaser-57"><a href="#PPLaser-57"><span class="linenos"> 57</span></a><span class="sd">        correct the issue in setting the frequency generally.</span>
</span><span id="PPLaser-58"><a href="#PPLaser-58"><span class="linenos"> 58</span></a>
</span><span id="PPLaser-59"><a href="#PPLaser-59"><span class="linenos"> 59</span></a><span class="sd">        verifies that fcf is set within the appropriate laser frequency range</span>
</span><span id="PPLaser-60"><a href="#PPLaser-60"><span class="linenos"> 60</span></a><span class="sd">        and raises RVE error if not</span>
</span><span id="PPLaser-61"><a href="#PPLaser-61"><span class="linenos"> 61</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-62"><a href="#PPLaser-62"><span class="linenos"> 62</span></a>        <span class="k">if</span> <span class="n">freq</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="ow">or</span> <span class="n">freq</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span><span class="p">:</span>
</span><span id="PPLaser-63"><a href="#PPLaser-63"><span class="linenos"> 63</span></a>            <span class="k">raise</span> <span class="n">RVEError</span><span class="p">(</span>
</span><span id="PPLaser-64"><a href="#PPLaser-64"><span class="linenos"> 64</span></a>                <span class="s2">&quot;The desired frequency is outside of the range for this laser.&quot;</span>
</span><span id="PPLaser-65"><a href="#PPLaser-65"><span class="linenos"> 65</span></a>            <span class="p">)</span>
</span><span id="PPLaser-66"><a href="#PPLaser-66"><span class="linenos"> 66</span></a>
</span><span id="PPLaser-67"><a href="#PPLaser-67"><span class="linenos"> 67</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_fcf</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
</span><span id="PPLaser-68"><a href="#PPLaser-68"><span class="linenos"> 68</span></a>
</span><span id="PPLaser-69"><a href="#PPLaser-69"><span class="linenos"> 69</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-70"><a href="#PPLaser-70"><span class="linenos"> 70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get which low noise mode&quot;&quot;&quot;</span>
</span><span id="PPLaser-71"><a href="#PPLaser-71"><span class="linenos"> 71</span></a>
</span><span id="PPLaser-72"><a href="#PPLaser-72"><span class="linenos"> 72</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">()</span>
</span><span id="PPLaser-73"><a href="#PPLaser-73"><span class="linenos"> 73</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">Mode</span><span class="p">(</span><span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">))</span>
</span><span id="PPLaser-74"><a href="#PPLaser-74"><span class="linenos"> 74</span></a>
</span><span id="PPLaser-75"><a href="#PPLaser-75"><span class="linenos"> 75</span></a>        <span class="k">return</span> <span class="n">response</span>
</span><span id="PPLaser-76"><a href="#PPLaser-76"><span class="linenos"> 76</span></a>
</span><span id="PPLaser-77"><a href="#PPLaser-77"><span class="linenos"> 77</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
</span><span id="PPLaser-78"><a href="#PPLaser-78"><span class="linenos"> 78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
</span><span id="PPLaser-79"><a href="#PPLaser-79"><span class="linenos"> 79</span></a>
</span><span id="PPLaser-80"><a href="#PPLaser-80"><span class="linenos"> 80</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">normalmode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-81"><a href="#PPLaser-81"><span class="linenos"> 81</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set mode to standard dither mode&quot;&quot;&quot;</span>
</span><span id="PPLaser-82"><a href="#PPLaser-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">)</span>
</span><span id="PPLaser-83"><a href="#PPLaser-83"><span class="linenos"> 83</span></a>
</span><span id="PPLaser-84"><a href="#PPLaser-84"><span class="linenos"> 84</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">nodithermode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-85"><a href="#PPLaser-85"><span class="linenos"> 85</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set mode to nodither mode</span>
</span><span id="PPLaser-86"><a href="#PPLaser-86"><span class="linenos"> 86</span></a>
</span><span id="PPLaser-87"><a href="#PPLaser-87"><span class="linenos"> 87</span></a><span class="sd">        It is unclear whether this just also activates whisper mode.</span>
</span><span id="PPLaser-88"><a href="#PPLaser-88"><span class="linenos"> 88</span></a><span class="sd">        The feature guide says &quot;a value of 1 defaults to 2&quot;.</span>
</span><span id="PPLaser-89"><a href="#PPLaser-89"><span class="linenos"> 89</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-90"><a href="#PPLaser-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">nodither</span><span class="p">)</span>
</span><span id="PPLaser-91"><a href="#PPLaser-91"><span class="linenos"> 91</span></a>
</span><span id="PPLaser-92"><a href="#PPLaser-92"><span class="linenos"> 92</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">whispermode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-93"><a href="#PPLaser-93"><span class="linenos"> 93</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enables whisper mode where all control loops</span>
</span><span id="PPLaser-94"><a href="#PPLaser-94"><span class="linenos"> 94</span></a><span class="sd">        are disabled resulting in a lower noise mode.&quot;&quot;&quot;</span>
</span><span id="PPLaser-95"><a href="#PPLaser-95"><span class="linenos"> 95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">whisper</span><span class="p">)</span>
</span><span id="PPLaser-96"><a href="#PPLaser-96"><span class="linenos"> 96</span></a>
</span><span id="PPLaser-97"><a href="#PPLaser-97"><span class="linenos"> 97</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-98"><a href="#PPLaser-98"><span class="linenos"> 98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the amplitude of the clean sweep.</span>
</span><span id="PPLaser-99"><a href="#PPLaser-99"><span class="linenos"> 99</span></a>
</span><span id="PPLaser-100"><a href="#PPLaser-100"><span class="linenos">100</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="PPLaser-101"><a href="#PPLaser-101"><span class="linenos">101</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="PPLaser-102"><a href="#PPLaser-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-103"><a href="#PPLaser-103"><span class="linenos">103</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_csrange</span><span class="p">()</span>
</span><span id="PPLaser-104"><a href="#PPLaser-104"><span class="linenos">104</span></a>        <span class="n">cs_amplitude</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>
</span><span id="PPLaser-105"><a href="#PPLaser-105"><span class="linenos">105</span></a>
</span><span id="PPLaser-106"><a href="#PPLaser-106"><span class="linenos">106</span></a>        <span class="k">return</span> <span class="n">cs_amplitude</span>
</span><span id="PPLaser-107"><a href="#PPLaser-107"><span class="linenos">107</span></a>
</span><span id="PPLaser-108"><a href="#PPLaser-108"><span class="linenos">108</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_GHz</span><span class="p">):</span>
</span><span id="PPLaser-109"><a href="#PPLaser-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the amplitude of the clean sweep.</span>
</span><span id="PPLaser-110"><a href="#PPLaser-110"><span class="linenos">110</span></a>
</span><span id="PPLaser-111"><a href="#PPLaser-111"><span class="linenos">111</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="PPLaser-112"><a href="#PPLaser-112"><span class="linenos">112</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="PPLaser-113"><a href="#PPLaser-113"><span class="linenos">113</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-114"><a href="#PPLaser-114"><span class="linenos">114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csrange</span><span class="p">(</span><span class="n">range_GHz</span><span class="p">)</span>
</span><span id="PPLaser-115"><a href="#PPLaser-115"><span class="linenos">115</span></a>
</span><span id="PPLaser-116"><a href="#PPLaser-116"><span class="linenos">116</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-117"><a href="#PPLaser-117"><span class="linenos">117</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enables clean sweep mode.</span>
</span><span id="PPLaser-118"><a href="#PPLaser-118"><span class="linenos">118</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="PPLaser-119"><a href="#PPLaser-119"><span class="linenos">119</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="PPLaser-120"><a href="#PPLaser-120"><span class="linenos">120</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-121"><a href="#PPLaser-121"><span class="linenos">121</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mode</span><span class="p">()</span>
</span><span id="PPLaser-122"><a href="#PPLaser-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">:</span>
</span><span id="PPLaser-123"><a href="#PPLaser-123"><span class="linenos">123</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="PPLaser-124"><a href="#PPLaser-124"><span class="linenos">124</span></a>                <span class="s2">&quot;Laser currently in normal mode.&quot;</span><span class="p">,</span>
</span><span id="PPLaser-125"><a href="#PPLaser-125"><span class="linenos">125</span></a>                <span class="s2">&quot;please set to nodither or whisper mode&quot;</span><span class="p">,</span>
</span><span id="PPLaser-126"><a href="#PPLaser-126"><span class="linenos">126</span></a>            <span class="p">)</span>
</span><span id="PPLaser-127"><a href="#PPLaser-127"><span class="linenos">127</span></a>
</span><span id="PPLaser-128"><a href="#PPLaser-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csstart</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="PPLaser-129"><a href="#PPLaser-129"><span class="linenos">129</span></a>
</span><span id="PPLaser-130"><a href="#PPLaser-130"><span class="linenos">130</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-131"><a href="#PPLaser-131"><span class="linenos">131</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Turn&#39;s off clean sweep mode.&quot;&quot;&quot;</span>
</span><span id="PPLaser-132"><a href="#PPLaser-132"><span class="linenos">132</span></a>
</span><span id="PPLaser-133"><a href="#PPLaser-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csstart</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="PPLaser-134"><a href="#PPLaser-134"><span class="linenos">134</span></a>
</span><span id="PPLaser-135"><a href="#PPLaser-135"><span class="linenos">135</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq_low</span><span class="p">,</span> <span class="n">freq_high</span><span class="p">):</span>
</span><span id="PPLaser-136"><a href="#PPLaser-136"><span class="linenos">136</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser-137"><a href="#PPLaser-137"><span class="linenos">137</span></a><span class="sd">        A wrapper function that takes the start and end frequencies</span>
</span><span id="PPLaser-138"><a href="#PPLaser-138"><span class="linenos">138</span></a><span class="sd">        you would like to sweep over. It computes and sets the clean sweep</span>
</span><span id="PPLaser-139"><a href="#PPLaser-139"><span class="linenos">139</span></a><span class="sd">        amplitude and the midpoint.</span>
</span><span id="PPLaser-140"><a href="#PPLaser-140"><span class="linenos">140</span></a>
</span><span id="PPLaser-141"><a href="#PPLaser-141"><span class="linenos">141</span></a><span class="sd">        The clean sweep operation will begin in the center of the high and low.</span>
</span><span id="PPLaser-142"><a href="#PPLaser-142"><span class="linenos">142</span></a>
</span><span id="PPLaser-143"><a href="#PPLaser-143"><span class="linenos">143</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-144"><a href="#PPLaser-144"><span class="linenos">144</span></a>
</span><span id="PPLaser-145"><a href="#PPLaser-145"><span class="linenos">145</span></a>        <span class="k">if</span> <span class="n">freq_low</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="ow">or</span> <span class="n">freq_high</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span><span class="p">:</span>
</span><span id="PPLaser-146"><a href="#PPLaser-146"><span class="linenos">146</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="PPLaser-147"><a href="#PPLaser-147"><span class="linenos">147</span></a>                <span class="s2">&quot;The range you would like to sweep over&quot;</span><span class="p">,</span>
</span><span id="PPLaser-148"><a href="#PPLaser-148"><span class="linenos">148</span></a>                <span class="s2">&quot;is outside of the bounds for this laser&quot;</span><span class="p">,</span>
</span><span id="PPLaser-149"><a href="#PPLaser-149"><span class="linenos">149</span></a>            <span class="p">)</span>
</span><span id="PPLaser-150"><a href="#PPLaser-150"><span class="linenos">150</span></a>
</span><span id="PPLaser-151"><a href="#PPLaser-151"><span class="linenos">151</span></a>        <span class="c1"># sets the clean sweep amplitude rounded to the nearest MHz.</span>
</span><span id="PPLaser-152"><a href="#PPLaser-152"><span class="linenos">152</span></a>        <span class="n">cs_ampl</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">freq_high</span> <span class="o">-</span> <span class="n">freq_low</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e3</span><span class="p">)</span>
</span><span id="PPLaser-153"><a href="#PPLaser-153"><span class="linenos">153</span></a>        <span class="k">if</span> <span class="n">cs_ampl</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
</span><span id="PPLaser-154"><a href="#PPLaser-154"><span class="linenos">154</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="PPLaser-155"><a href="#PPLaser-155"><span class="linenos">155</span></a>                <span class="s2">&quot;This is an error specific to SpectrumLab.&quot;</span>
</span><span id="PPLaser-156"><a href="#PPLaser-156"><span class="linenos">156</span></a>                <span class="s2">&quot;Our laser has a 50GHz maximum cleansweep range.&quot;</span>
</span><span id="PPLaser-157"><a href="#PPLaser-157"><span class="linenos">157</span></a>                <span class="s2">&quot;You should change the limit in source for your laser.&quot;</span>
</span><span id="PPLaser-158"><a href="#PPLaser-158"><span class="linenos">158</span></a>                <span class="s2">&quot;If you know a way to query the laser for this value&quot;</span>
</span><span id="PPLaser-159"><a href="#PPLaser-159"><span class="linenos">159</span></a>                <span class="s2">&quot;then implementing that would be better.&quot;</span>
</span><span id="PPLaser-160"><a href="#PPLaser-160"><span class="linenos">160</span></a>            <span class="p">)</span>
</span><span id="PPLaser-161"><a href="#PPLaser-161"><span class="linenos">161</span></a>
</span><span id="PPLaser-162"><a href="#PPLaser-162"><span class="linenos">162</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_cleansweep_amplitude</span><span class="p">(</span><span class="n">cs_ampl</span><span class="p">)</span>
</span><span id="PPLaser-163"><a href="#PPLaser-163"><span class="linenos">163</span></a>
</span><span id="PPLaser-164"><a href="#PPLaser-164"><span class="linenos">164</span></a>        <span class="n">cs_center</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">freq_low</span> <span class="o">+</span> <span class="n">freq_high</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e4</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-4</span>
</span><span id="PPLaser-165"><a href="#PPLaser-165"><span class="linenos">165</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">cs_center</span><span class="p">)</span>
</span><span id="PPLaser-166"><a href="#PPLaser-166"><span class="linenos">166</span></a>
</span><span id="PPLaser-167"><a href="#PPLaser-167"><span class="linenos">167</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-168"><a href="#PPLaser-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the clean sweep rate. not sure about units.&quot;&quot;&quot;</span>
</span><span id="PPLaser-169"><a href="#PPLaser-169"><span class="linenos">169</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_csrate</span><span class="p">()</span>
</span><span id="PPLaser-170"><a href="#PPLaser-170"><span class="linenos">170</span></a>        <span class="n">cs_rate</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>
</span><span id="PPLaser-171"><a href="#PPLaser-171"><span class="linenos">171</span></a>        <span class="k">return</span> <span class="n">cs_rate</span>
</span><span id="PPLaser-172"><a href="#PPLaser-172"><span class="linenos">172</span></a>
</span><span id="PPLaser-173"><a href="#PPLaser-173"><span class="linenos">173</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate_MHz</span><span class="p">):</span>
</span><span id="PPLaser-174"><a href="#PPLaser-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;sets the cleansweep rate in MHz/sec</span>
</span><span id="PPLaser-175"><a href="#PPLaser-175"><span class="linenos">175</span></a><span class="sd">        idk if there is a way to check if its within some bounds.</span>
</span><span id="PPLaser-176"><a href="#PPLaser-176"><span class="linenos">176</span></a><span class="sd">        There is conflicting info in the pure photonics docs.&quot;&quot;&quot;</span>
</span><span id="PPLaser-177"><a href="#PPLaser-177"><span class="linenos">177</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;Dont use this. Need to confirm the units for the sweep rate.&quot;</span><span class="p">)</span>
</span><span id="PPLaser-178"><a href="#PPLaser-178"><span class="linenos">178</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csrate</span><span class="p">(</span><span class="n">rate_MHz</span><span class="p">)</span>
</span><span id="PPLaser-179"><a href="#PPLaser-179"><span class="linenos">179</span></a>
</span><span id="PPLaser-180"><a href="#PPLaser-180"><span class="linenos">180</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-181"><a href="#PPLaser-181"><span class="linenos">181</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;This is not implemented yet.&quot;</span><span class="p">)</span>
</span><span id="PPLaser-182"><a href="#PPLaser-182"><span class="linenos">182</span></a>
</span><span id="PPLaser-183"><a href="#PPLaser-183"><span class="linenos">183</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
</span><span id="PPLaser-184"><a href="#PPLaser-184"><span class="linenos">184</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;This is not implemented yet.&quot;</span><span class="p">)</span>
</span><span id="PPLaser-185"><a href="#PPLaser-185"><span class="linenos">185</span></a>
</span><span id="PPLaser-186"><a href="#PPLaser-186"><span class="linenos">186</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleanjump</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser-187"><a href="#PPLaser-187"><span class="linenos">187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Tells the laser to perform the clean jump.</span>
</span><span id="PPLaser-188"><a href="#PPLaser-188"><span class="linenos">188</span></a><span class="sd">        The clean jump must be precalibrated.</span>
</span><span id="PPLaser-189"><a href="#PPLaser-189"><span class="linenos">189</span></a><span class="sd">        You should have the calibration points in your lab notebook</span>
</span><span id="PPLaser-190"><a href="#PPLaser-190"><span class="linenos">190</span></a><span class="sd">        or written down somewhere.</span>
</span><span id="PPLaser-191"><a href="#PPLaser-191"><span class="linenos">191</span></a><span class="sd">        If not you should perform the clean jump calibration.&quot;&quot;&quot;</span>
</span><span id="PPLaser-192"><a href="#PPLaser-192"><span class="linenos">192</span></a>        <span class="n">mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mode</span><span class="p">()</span>
</span><span id="PPLaser-193"><a href="#PPLaser-193"><span class="linenos">193</span></a>        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">:</span>
</span><span id="PPLaser-194"><a href="#PPLaser-194"><span class="linenos">194</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="PPLaser-195"><a href="#PPLaser-195"><span class="linenos">195</span></a>                <span class="s2">&quot;Laser in normal mode. You must be in nodither&quot;</span>
</span><span id="PPLaser-196"><a href="#PPLaser-196"><span class="linenos">196</span></a>                <span class="s2">&quot;or whisper mode to use cleanjump.&quot;</span>
</span><span id="PPLaser-197"><a href="#PPLaser-197"><span class="linenos">197</span></a>            <span class="p">)</span>
</span><span id="PPLaser-198"><a href="#PPLaser-198"><span class="linenos">198</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjstart</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="PPLaser-199"><a href="#PPLaser-199"><span class="linenos">199</span></a>
</span><span id="PPLaser-200"><a href="#PPLaser-200"><span class="linenos">200</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleanjump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq_jump</span><span class="p">):</span>
</span><span id="PPLaser-201"><a href="#PPLaser-201"><span class="linenos">201</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser-202"><a href="#PPLaser-202"><span class="linenos">202</span></a><span class="sd">        Set the size of the jump in THz to the fourth decimal place.</span>
</span><span id="PPLaser-203"><a href="#PPLaser-203"><span class="linenos">203</span></a><span class="sd">        XXX.XXXX</span>
</span><span id="PPLaser-204"><a href="#PPLaser-204"><span class="linenos">204</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-205"><a href="#PPLaser-205"><span class="linenos">205</span></a>        <span class="n">freq_jump</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">freq_jump</span> <span class="o">*</span> <span class="mf">1e4</span><span class="p">))</span>
</span><span id="PPLaser-206"><a href="#PPLaser-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjthz</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">freq_jump</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]))</span>
</span><span id="PPLaser-207"><a href="#PPLaser-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjghz</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">freq_jump</span><span class="p">[</span><span class="mi">3</span><span class="p">:]))</span>
</span><span id="PPLaser-208"><a href="#PPLaser-208"><span class="linenos">208</span></a>
</span><span id="PPLaser-209"><a href="#PPLaser-209"><span class="linenos">209</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleanjump_calibration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fcf</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">pwr</span><span class="p">,</span> <span class="n">n_jumppoints</span><span class="p">,</span> <span class="n">confirmation</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="PPLaser-210"><a href="#PPLaser-210"><span class="linenos">210</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser-211"><a href="#PPLaser-211"><span class="linenos">211</span></a><span class="sd">        This is a grid based calibration</span>
</span><span id="PPLaser-212"><a href="#PPLaser-212"><span class="linenos">212</span></a>
</span><span id="PPLaser-213"><a href="#PPLaser-213"><span class="linenos">213</span></a><span class="sd">        **fcf**: the first channel frequency you would like to</span>
</span><span id="PPLaser-214"><a href="#PPLaser-214"><span class="linenos">214</span></a><span class="sd">        begin calibration at. (THz)</span>
</span><span id="PPLaser-215"><a href="#PPLaser-215"><span class="linenos">215</span></a>
</span><span id="PPLaser-216"><a href="#PPLaser-216"><span class="linenos">216</span></a><span class="sd">        **grid**: the grid spacing (GHz)</span>
</span><span id="PPLaser-217"><a href="#PPLaser-217"><span class="linenos">217</span></a>
</span><span id="PPLaser-218"><a href="#PPLaser-218"><span class="linenos">218</span></a><span class="sd">        **pwr**: The power calibration will be at. (dBm)</span>
</span><span id="PPLaser-219"><a href="#PPLaser-219"><span class="linenos">219</span></a>
</span><span id="PPLaser-220"><a href="#PPLaser-220"><span class="linenos">220</span></a><span class="sd">        **n_jumppoints**: The number of grid points to calibrate.</span>
</span><span id="PPLaser-221"><a href="#PPLaser-221"><span class="linenos">221</span></a>
</span><span id="PPLaser-222"><a href="#PPLaser-222"><span class="linenos">222</span></a><span class="sd">        **confirmation**: If you would like to go ahead and confirm yes</span>
</span><span id="PPLaser-223"><a href="#PPLaser-223"><span class="linenos">223</span></a><span class="sd">        and skip the user input you can set confirmation to &#39;y&#39;</span>
</span><span id="PPLaser-224"><a href="#PPLaser-224"><span class="linenos">224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser-225"><a href="#PPLaser-225"><span class="linenos">225</span></a>
</span><span id="PPLaser-226"><a href="#PPLaser-226"><span class="linenos">226</span></a>        <span class="c1"># calibration begins by writing the number of channels to 0xD2</span>
</span><span id="PPLaser-227"><a href="#PPLaser-227"><span class="linenos">227</span></a>
</span><span id="PPLaser-228"><a href="#PPLaser-228"><span class="linenos">228</span></a>        <span class="n">calibration_points</span> <span class="o">=</span> <span class="p">[</span><span class="n">fcf</span> <span class="o">+</span> <span class="n">grid</span> <span class="o">*</span> <span class="n">n</span> <span class="o">*</span> <span class="mf">1e-3</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_jumppoints</span><span class="p">)]</span>
</span><span id="PPLaser-229"><a href="#PPLaser-229"><span class="linenos">229</span></a>
</span><span id="PPLaser-230"><a href="#PPLaser-230"><span class="linenos">230</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="PPLaser-231"><a href="#PPLaser-231"><span class="linenos">231</span></a>            <span class="sa">f</span><span class="s2">&quot;You are calibrating </span><span class="si">{</span><span class="n">n_jumppoints</span><span class="si">}</span><span class="s2"> clean jump setpoints&quot;</span><span class="p">,</span>
</span><span id="PPLaser-232"><a href="#PPLaser-232"><span class="linenos">232</span></a>            <span class="sa">f</span><span class="s2">&quot;at frequencies:</span><span class="se">\n</span><span class="si">{</span><span class="n">calibration_points</span><span class="si">}</span><span class="s2">(THz).&quot;</span><span class="p">,</span>
</span><span id="PPLaser-233"><a href="#PPLaser-233"><span class="linenos">233</span></a>            <span class="sa">f</span><span class="s2">&quot;With power = </span><span class="si">{</span><span class="n">pwr</span><span class="si">}</span><span class="s2">(dBm).&quot;</span><span class="p">,</span>
</span><span id="PPLaser-234"><a href="#PPLaser-234"><span class="linenos">234</span></a>        <span class="p">)</span>
</span><span id="PPLaser-235"><a href="#PPLaser-235"><span class="linenos">235</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="PPLaser-236"><a href="#PPLaser-236"><span class="linenos">236</span></a>            <span class="s2">&quot;Write these down in your lab notebook because&quot;</span><span class="p">,</span>
</span><span id="PPLaser-237"><a href="#PPLaser-237"><span class="linenos">237</span></a>            <span class="s2">&quot;you cannot query the device for these values later.&quot;</span><span class="p">,</span>
</span><span id="PPLaser-238"><a href="#PPLaser-238"><span class="linenos">238</span></a>        <span class="p">)</span>
</span><span id="PPLaser-239"><a href="#PPLaser-239"><span class="linenos">239</span></a>
</span><span id="PPLaser-240"><a href="#PPLaser-240"><span class="linenos">240</span></a>        <span class="k">if</span> <span class="n">confirmation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="PPLaser-241"><a href="#PPLaser-241"><span class="linenos">241</span></a>            <span class="n">confirmation</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Is the information above correct? (y/n): &quot;</span><span class="p">)</span>
</span><span id="PPLaser-242"><a href="#PPLaser-242"><span class="linenos">242</span></a>
</span><span id="PPLaser-243"><a href="#PPLaser-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="n">confirmation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span>
</span><span id="PPLaser-244"><a href="#PPLaser-244"><span class="linenos">244</span></a>            <span class="c1"># set up the first channel frequency, grid spacing, and power</span>
</span><span id="PPLaser-245"><a href="#PPLaser-245"><span class="linenos">245</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">fcf</span><span class="p">)</span>
</span><span id="PPLaser-246"><a href="#PPLaser-246"><span class="linenos">246</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
</span><span id="PPLaser-247"><a href="#PPLaser-247"><span class="linenos">247</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_power</span><span class="p">(</span><span class="n">pwr</span><span class="p">)</span>
</span><span id="PPLaser-248"><a href="#PPLaser-248"><span class="linenos">248</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cleanjump_calibration</span><span class="p">(</span><span class="n">n_jumppoints</span><span class="p">)</span>
</span><span id="PPLaser-249"><a href="#PPLaser-249"><span class="linenos">249</span></a>
</span><span id="PPLaser-250"><a href="#PPLaser-250"><span class="linenos">250</span></a>        <span class="k">elif</span> <span class="n">confirmation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span>
</span><span id="PPLaser-251"><a href="#PPLaser-251"><span class="linenos">251</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="PPLaser-252"><a href="#PPLaser-252"><span class="linenos">252</span></a>                <span class="sa">f</span><span class="s2">&quot;You answered </span><span class="si">{</span><span class="n">confirmation</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="s2">&quot;Calibration will not be performed.&quot;</span>
</span><span id="PPLaser-253"><a href="#PPLaser-253"><span class="linenos">253</span></a>            <span class="p">)</span>
</span><span id="PPLaser-254"><a href="#PPLaser-254"><span class="linenos">254</span></a>
</span><span id="PPLaser-255"><a href="#PPLaser-255"><span class="linenos">255</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="PPLaser-256"><a href="#PPLaser-256"><span class="linenos">256</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;input not recognized&quot;</span><span class="p">)</span>
</span><span id="PPLaser-257"><a href="#PPLaser-257"><span class="linenos">257</span></a>
</span><span id="PPLaser-258"><a href="#PPLaser-258"><span class="linenos">258</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_cleanjump_calibration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_jumppoints</span><span class="p">):</span>
</span><span id="PPLaser-259"><a href="#PPLaser-259"><span class="linenos">259</span></a>        <span class="c1"># does this return a response with bit 15 active?</span>
</span><span id="PPLaser-260"><a href="#PPLaser-260"><span class="linenos">260</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjcalibration</span><span class="p">(</span><span class="n">n_jumppoints</span><span class="p">)</span>
</span><span id="PPLaser-261"><a href="#PPLaser-261"><span class="linenos">261</span></a>
</span><span id="PPLaser-262"><a href="#PPLaser-262"><span class="linenos">262</span></a>        <span class="n">is_calibrating</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="PPLaser-263"><a href="#PPLaser-263"><span class="linenos">263</span></a>
</span><span id="PPLaser-264"><a href="#PPLaser-264"><span class="linenos">264</span></a>        <span class="k">while</span> <span class="n">is_calibrating</span><span class="p">:</span>
</span><span id="PPLaser-265"><a href="#PPLaser-265"><span class="linenos">265</span></a>            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cjcalibration</span><span class="p">()</span>
</span><span id="PPLaser-266"><a href="#PPLaser-266"><span class="linenos">266</span></a>
</span><span id="PPLaser-267"><a href="#PPLaser-267"><span class="linenos">267</span></a>            <span class="n">response_bits</span> <span class="o">=</span> <span class="p">[</span><span class="n">bit</span> <span class="k">for</span> <span class="n">bit</span> <span class="ow">in</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="si">:</span><span class="s2">08</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
</span><span id="PPLaser-268"><a href="#PPLaser-268"><span class="linenos">268</span></a>            <span class="n">is_calibrating</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">response_bits</span><span class="p">[</span><span class="mi">15</span><span class="p">])</span>
</span><span id="PPLaser-269"><a href="#PPLaser-269"><span class="linenos">269</span></a>            <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>The pure photonics laser class implements specific features or handles particular
quirks of the pure photonics laser. The pure photonics laser has additional
registers for a couple of applications.</p>

<ul>
<li><code><a href="#PPLaser.set_frequency">set_frequency</a></code> and <code><a href="#PPLaser.set_fcf">set_fcf</a></code> had to be overridden</li>
<li><code><a href="#PPLaser.get_frequency">get_frequency</a></code> is <em>not</em> overridden because these registers can still be read without issue</li>
</ul>
</div>


                            <div id="PPLaser.__init__" class="classattr">
                                        <input id="PPLaser.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">PPLaser</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">serial_port</span>, </span><span class="param"><span class="n">baudrate</span><span class="o">=</span><span class="mi">9600</span>, </span><span class="param"><span class="n">sleep_time</span><span class="o">=</span><span class="mf">0.1</span></span>)</span>

                <label class="view-source-button" for="PPLaser.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.__init__-28"><a href="#PPLaser.__init__-28"><span class="linenos">28</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serial_port</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">,</span> <span class="n">sleep_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
</span><span id="PPLaser.__init__-29"><a href="#PPLaser.__init__-29"><span class="linenos">29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;sets up the additional frequency max and min variables which will be set upon</span>
</span><span id="PPLaser.__init__-30"><a href="#PPLaser.__init__-30"><span class="linenos">30</span></a><span class="sd">        connecting to the laser. We have found that Pure Photonics lasers do not</span>
</span><span id="PPLaser.__init__-31"><a href="#PPLaser.__init__-31"><span class="linenos">31</span></a><span class="sd">        return the RVEError when setting the frequency out of spec.</span>
</span><span id="PPLaser.__init__-32"><a href="#PPLaser.__init__-32"><span class="linenos">32</span></a>
</span><span id="PPLaser.__init__-33"><a href="#PPLaser.__init__-33"><span class="linenos">33</span></a><span class="sd">        This sets up the additional register yaml file for pure photonics specific functions.</span>
</span><span id="PPLaser.__init__-34"><a href="#PPLaser.__init__-34"><span class="linenos">34</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.__init__-35"><a href="#PPLaser.__init__-35"><span class="linenos">35</span></a>        <span class="n">register_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;registers_pp.yaml&quot;</span><span class="p">]</span>
</span><span id="PPLaser.__init__-36"><a href="#PPLaser.__init__-36"><span class="linenos">36</span></a>
</span><span id="PPLaser.__init__-37"><a href="#PPLaser.__init__-37"><span class="linenos">37</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="PPLaser.__init__-38"><a href="#PPLaser.__init__-38"><span class="linenos">38</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="PPLaser.__init__-39"><a href="#PPLaser.__init__-39"><span class="linenos">39</span></a>
</span><span id="PPLaser.__init__-40"><a href="#PPLaser.__init__-40"><span class="linenos">40</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="PPLaser.__init__-41"><a href="#PPLaser.__init__-41"><span class="linenos">41</span></a>            <span class="n">serial_port</span><span class="p">,</span> <span class="n">baudrate</span><span class="p">,</span> <span class="n">register_files</span><span class="o">=</span><span class="n">register_files</span><span class="p">,</span> <span class="n">sleep_time</span><span class="o">=</span><span class="n">sleep_time</span>
</span><span id="PPLaser.__init__-42"><a href="#PPLaser.__init__-42"><span class="linenos">42</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>sets up the additional frequency max and min variables which will be set upon
connecting to the laser. We have found that Pure Photonics lasers do not
return the RVEError when setting the frequency out of spec.</p>

<p>This sets up the additional register yaml file for pure photonics specific functions.</p>
</div>


                            </div>
                            <div id="PPLaser.connect" class="classattr">
                                        <input id="PPLaser.connect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">connect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.connect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.connect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.connect-44"><a href="#PPLaser.connect-44"><span class="linenos">44</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.connect-45"><a href="#PPLaser.connect-45"><span class="linenos">45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overriden connect function with query for max and min frequency&quot;&quot;&quot;</span>
</span><span id="PPLaser.connect-46"><a href="#PPLaser.connect-46"><span class="linenos">46</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="PPLaser.connect-47"><a href="#PPLaser.connect-47"><span class="linenos">47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_frequency_max</span><span class="p">()</span>
</span><span id="PPLaser.connect-48"><a href="#PPLaser.connect-48"><span class="linenos">48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_frequency_min</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Overriden connect function with query for max and min frequency</p>
</div>


                            </div>
                            <div id="PPLaser.set_fcf" class="classattr">
                                        <input id="PPLaser.set_fcf-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_fcf</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">freq</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.set_fcf-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.set_fcf"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.set_fcf-50"><a href="#PPLaser.set_fcf-50"><span class="linenos">50</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_fcf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">):</span>
</span><span id="PPLaser.set_fcf-51"><a href="#PPLaser.set_fcf-51"><span class="linenos">51</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser.set_fcf-52"><a href="#PPLaser.set_fcf-52"><span class="linenos">52</span></a><span class="sd">        This sets the first channel frequency.</span>
</span><span id="PPLaser.set_fcf-53"><a href="#PPLaser.set_fcf-53"><span class="linenos">53</span></a><span class="sd">        It does not reset the channel so this frequency will only be equal</span>
</span><span id="PPLaser.set_fcf-54"><a href="#PPLaser.set_fcf-54"><span class="linenos">54</span></a><span class="sd">        to the output frequency if channel=1.</span>
</span><span id="PPLaser.set_fcf-55"><a href="#PPLaser.set_fcf-55"><span class="linenos">55</span></a>
</span><span id="PPLaser.set_fcf-56"><a href="#PPLaser.set_fcf-56"><span class="linenos">56</span></a><span class="sd">        Because the `set_frequency` function calls this function this will also</span>
</span><span id="PPLaser.set_fcf-57"><a href="#PPLaser.set_fcf-57"><span class="linenos">57</span></a><span class="sd">        correct the issue in setting the frequency generally.</span>
</span><span id="PPLaser.set_fcf-58"><a href="#PPLaser.set_fcf-58"><span class="linenos">58</span></a>
</span><span id="PPLaser.set_fcf-59"><a href="#PPLaser.set_fcf-59"><span class="linenos">59</span></a><span class="sd">        verifies that fcf is set within the appropriate laser frequency range</span>
</span><span id="PPLaser.set_fcf-60"><a href="#PPLaser.set_fcf-60"><span class="linenos">60</span></a><span class="sd">        and raises RVE error if not</span>
</span><span id="PPLaser.set_fcf-61"><a href="#PPLaser.set_fcf-61"><span class="linenos">61</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.set_fcf-62"><a href="#PPLaser.set_fcf-62"><span class="linenos">62</span></a>        <span class="k">if</span> <span class="n">freq</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="ow">or</span> <span class="n">freq</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span><span class="p">:</span>
</span><span id="PPLaser.set_fcf-63"><a href="#PPLaser.set_fcf-63"><span class="linenos">63</span></a>            <span class="k">raise</span> <span class="n">RVEError</span><span class="p">(</span>
</span><span id="PPLaser.set_fcf-64"><a href="#PPLaser.set_fcf-64"><span class="linenos">64</span></a>                <span class="s2">&quot;The desired frequency is outside of the range for this laser.&quot;</span>
</span><span id="PPLaser.set_fcf-65"><a href="#PPLaser.set_fcf-65"><span class="linenos">65</span></a>            <span class="p">)</span>
</span><span id="PPLaser.set_fcf-66"><a href="#PPLaser.set_fcf-66"><span class="linenos">66</span></a>
</span><span id="PPLaser.set_fcf-67"><a href="#PPLaser.set_fcf-67"><span class="linenos">67</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_fcf</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This sets the first channel frequency.
It does not reset the channel so this frequency will only be equal
to the output frequency if channel=1.</p>

<p>Because the <code><a href="#PPLaser.set_frequency">set_frequency</a></code> function calls this function this will also
correct the issue in setting the frequency generally.</p>

<p>verifies that fcf is set within the appropriate laser frequency range
and raises RVE error if not</p>
</div>


                            </div>
                            <div id="PPLaser.get_mode" class="classattr">
                                        <input id="PPLaser.get_mode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_mode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.get_mode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.get_mode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.get_mode-69"><a href="#PPLaser.get_mode-69"><span class="linenos">69</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.get_mode-70"><a href="#PPLaser.get_mode-70"><span class="linenos">70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get which low noise mode&quot;&quot;&quot;</span>
</span><span id="PPLaser.get_mode-71"><a href="#PPLaser.get_mode-71"><span class="linenos">71</span></a>
</span><span id="PPLaser.get_mode-72"><a href="#PPLaser.get_mode-72"><span class="linenos">72</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">()</span>
</span><span id="PPLaser.get_mode-73"><a href="#PPLaser.get_mode-73"><span class="linenos">73</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">Mode</span><span class="p">(</span><span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">))</span>
</span><span id="PPLaser.get_mode-74"><a href="#PPLaser.get_mode-74"><span class="linenos">74</span></a>
</span><span id="PPLaser.get_mode-75"><a href="#PPLaser.get_mode-75"><span class="linenos">75</span></a>        <span class="k">return</span> <span class="n">response</span>
</span></pre></div>


            <div class="docstring"><p>get which low noise mode</p>
</div>


                            </div>
                            <div id="PPLaser.set_mode" class="classattr">
                                        <input id="PPLaser.set_mode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_mode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">mode</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.set_mode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.set_mode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.set_mode-77"><a href="#PPLaser.set_mode-77"><span class="linenos">77</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
</span><span id="PPLaser.set_mode-78"><a href="#PPLaser.set_mode-78"><span class="linenos">78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="PPLaser.normalmode" class="classattr">
                                        <input id="PPLaser.normalmode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">normalmode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.normalmode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.normalmode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.normalmode-80"><a href="#PPLaser.normalmode-80"><span class="linenos">80</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">normalmode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.normalmode-81"><a href="#PPLaser.normalmode-81"><span class="linenos">81</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set mode to standard dither mode&quot;&quot;&quot;</span>
</span><span id="PPLaser.normalmode-82"><a href="#PPLaser.normalmode-82"><span class="linenos">82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>set mode to standard dither mode</p>
</div>


                            </div>
                            <div id="PPLaser.nodithermode" class="classattr">
                                        <input id="PPLaser.nodithermode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">nodithermode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.nodithermode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.nodithermode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.nodithermode-84"><a href="#PPLaser.nodithermode-84"><span class="linenos">84</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">nodithermode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.nodithermode-85"><a href="#PPLaser.nodithermode-85"><span class="linenos">85</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set mode to nodither mode</span>
</span><span id="PPLaser.nodithermode-86"><a href="#PPLaser.nodithermode-86"><span class="linenos">86</span></a>
</span><span id="PPLaser.nodithermode-87"><a href="#PPLaser.nodithermode-87"><span class="linenos">87</span></a><span class="sd">        It is unclear whether this just also activates whisper mode.</span>
</span><span id="PPLaser.nodithermode-88"><a href="#PPLaser.nodithermode-88"><span class="linenos">88</span></a><span class="sd">        The feature guide says &quot;a value of 1 defaults to 2&quot;.</span>
</span><span id="PPLaser.nodithermode-89"><a href="#PPLaser.nodithermode-89"><span class="linenos">89</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.nodithermode-90"><a href="#PPLaser.nodithermode-90"><span class="linenos">90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">nodither</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set mode to nodither mode</p>

<p>It is unclear whether this just also activates whisper mode.
The feature guide says "a value of 1 defaults to 2".</p>
</div>


                            </div>
                            <div id="PPLaser.whispermode" class="classattr">
                                        <input id="PPLaser.whispermode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">whispermode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.whispermode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.whispermode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.whispermode-92"><a href="#PPLaser.whispermode-92"><span class="linenos">92</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">whispermode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.whispermode-93"><a href="#PPLaser.whispermode-93"><span class="linenos">93</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enables whisper mode where all control loops</span>
</span><span id="PPLaser.whispermode-94"><a href="#PPLaser.whispermode-94"><span class="linenos">94</span></a><span class="sd">        are disabled resulting in a lower noise mode.&quot;&quot;&quot;</span>
</span><span id="PPLaser.whispermode-95"><a href="#PPLaser.whispermode-95"><span class="linenos">95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">whisper</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Enables whisper mode where all control loops
are disabled resulting in a lower noise mode.</p>
</div>


                            </div>
                            <div id="PPLaser.get_cleansweep_amplitude" class="classattr">
                                        <input id="PPLaser.get_cleansweep_amplitude-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_cleansweep_amplitude</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.get_cleansweep_amplitude-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.get_cleansweep_amplitude"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.get_cleansweep_amplitude-97"><a href="#PPLaser.get_cleansweep_amplitude-97"><span class="linenos"> 97</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.get_cleansweep_amplitude-98"><a href="#PPLaser.get_cleansweep_amplitude-98"><span class="linenos"> 98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the amplitude of the clean sweep.</span>
</span><span id="PPLaser.get_cleansweep_amplitude-99"><a href="#PPLaser.get_cleansweep_amplitude-99"><span class="linenos"> 99</span></a>
</span><span id="PPLaser.get_cleansweep_amplitude-100"><a href="#PPLaser.get_cleansweep_amplitude-100"><span class="linenos">100</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="PPLaser.get_cleansweep_amplitude-101"><a href="#PPLaser.get_cleansweep_amplitude-101"><span class="linenos">101</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="PPLaser.get_cleansweep_amplitude-102"><a href="#PPLaser.get_cleansweep_amplitude-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.get_cleansweep_amplitude-103"><a href="#PPLaser.get_cleansweep_amplitude-103"><span class="linenos">103</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_csrange</span><span class="p">()</span>
</span><span id="PPLaser.get_cleansweep_amplitude-104"><a href="#PPLaser.get_cleansweep_amplitude-104"><span class="linenos">104</span></a>        <span class="n">cs_amplitude</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>
</span><span id="PPLaser.get_cleansweep_amplitude-105"><a href="#PPLaser.get_cleansweep_amplitude-105"><span class="linenos">105</span></a>
</span><span id="PPLaser.get_cleansweep_amplitude-106"><a href="#PPLaser.get_cleansweep_amplitude-106"><span class="linenos">106</span></a>        <span class="k">return</span> <span class="n">cs_amplitude</span>
</span></pre></div>


            <div class="docstring"><p>get the amplitude of the clean sweep.</p>

<p>The clean sweep will ramp to (+0.5 to -0.5) * amplitude.
(Basically it will be centered at the current frequency.)</p>
</div>


                            </div>
                            <div id="PPLaser.set_cleansweep_amplitude" class="classattr">
                                        <input id="PPLaser.set_cleansweep_amplitude-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_cleansweep_amplitude</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">range_GHz</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.set_cleansweep_amplitude-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.set_cleansweep_amplitude"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.set_cleansweep_amplitude-108"><a href="#PPLaser.set_cleansweep_amplitude-108"><span class="linenos">108</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_GHz</span><span class="p">):</span>
</span><span id="PPLaser.set_cleansweep_amplitude-109"><a href="#PPLaser.set_cleansweep_amplitude-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the amplitude of the clean sweep.</span>
</span><span id="PPLaser.set_cleansweep_amplitude-110"><a href="#PPLaser.set_cleansweep_amplitude-110"><span class="linenos">110</span></a>
</span><span id="PPLaser.set_cleansweep_amplitude-111"><a href="#PPLaser.set_cleansweep_amplitude-111"><span class="linenos">111</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="PPLaser.set_cleansweep_amplitude-112"><a href="#PPLaser.set_cleansweep_amplitude-112"><span class="linenos">112</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="PPLaser.set_cleansweep_amplitude-113"><a href="#PPLaser.set_cleansweep_amplitude-113"><span class="linenos">113</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.set_cleansweep_amplitude-114"><a href="#PPLaser.set_cleansweep_amplitude-114"><span class="linenos">114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csrange</span><span class="p">(</span><span class="n">range_GHz</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets the amplitude of the clean sweep.</p>

<p>The clean sweep will ramp to (+0.5 to -0.5) * amplitude.
(Basically it will be centered at the current frequency.)</p>
</div>


                            </div>
                            <div id="PPLaser.cleansweep_enable" class="classattr">
                                        <input id="PPLaser.cleansweep_enable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cleansweep_enable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.cleansweep_enable-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.cleansweep_enable"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.cleansweep_enable-116"><a href="#PPLaser.cleansweep_enable-116"><span class="linenos">116</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.cleansweep_enable-117"><a href="#PPLaser.cleansweep_enable-117"><span class="linenos">117</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enables clean sweep mode.</span>
</span><span id="PPLaser.cleansweep_enable-118"><a href="#PPLaser.cleansweep_enable-118"><span class="linenos">118</span></a><span class="sd">        The clean sweep will ramp to (+0.5 to -0.5) * amplitude.</span>
</span><span id="PPLaser.cleansweep_enable-119"><a href="#PPLaser.cleansweep_enable-119"><span class="linenos">119</span></a><span class="sd">        (Basically it will be centered at the current frequency.)</span>
</span><span id="PPLaser.cleansweep_enable-120"><a href="#PPLaser.cleansweep_enable-120"><span class="linenos">120</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.cleansweep_enable-121"><a href="#PPLaser.cleansweep_enable-121"><span class="linenos">121</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mode</span><span class="p">()</span>
</span><span id="PPLaser.cleansweep_enable-122"><a href="#PPLaser.cleansweep_enable-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">:</span>
</span><span id="PPLaser.cleansweep_enable-123"><a href="#PPLaser.cleansweep_enable-123"><span class="linenos">123</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="PPLaser.cleansweep_enable-124"><a href="#PPLaser.cleansweep_enable-124"><span class="linenos">124</span></a>                <span class="s2">&quot;Laser currently in normal mode.&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleansweep_enable-125"><a href="#PPLaser.cleansweep_enable-125"><span class="linenos">125</span></a>                <span class="s2">&quot;please set to nodither or whisper mode&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleansweep_enable-126"><a href="#PPLaser.cleansweep_enable-126"><span class="linenos">126</span></a>            <span class="p">)</span>
</span><span id="PPLaser.cleansweep_enable-127"><a href="#PPLaser.cleansweep_enable-127"><span class="linenos">127</span></a>
</span><span id="PPLaser.cleansweep_enable-128"><a href="#PPLaser.cleansweep_enable-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csstart</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Enables clean sweep mode.
The clean sweep will ramp to (+0.5 to -0.5) * amplitude.
(Basically it will be centered at the current frequency.)</p>
</div>


                            </div>
                            <div id="PPLaser.cleansweep_disable" class="classattr">
                                        <input id="PPLaser.cleansweep_disable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cleansweep_disable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.cleansweep_disable-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.cleansweep_disable"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.cleansweep_disable-130"><a href="#PPLaser.cleansweep_disable-130"><span class="linenos">130</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.cleansweep_disable-131"><a href="#PPLaser.cleansweep_disable-131"><span class="linenos">131</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Turn&#39;s off clean sweep mode.&quot;&quot;&quot;</span>
</span><span id="PPLaser.cleansweep_disable-132"><a href="#PPLaser.cleansweep_disable-132"><span class="linenos">132</span></a>
</span><span id="PPLaser.cleansweep_disable-133"><a href="#PPLaser.cleansweep_disable-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csstart</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Turn's off clean sweep mode.</p>
</div>


                            </div>
                            <div id="PPLaser.cleansweep_setup" class="classattr">
                                        <input id="PPLaser.cleansweep_setup-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cleansweep_setup</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">freq_low</span>, </span><span class="param"><span class="n">freq_high</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.cleansweep_setup-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.cleansweep_setup"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.cleansweep_setup-135"><a href="#PPLaser.cleansweep_setup-135"><span class="linenos">135</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleansweep_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq_low</span><span class="p">,</span> <span class="n">freq_high</span><span class="p">):</span>
</span><span id="PPLaser.cleansweep_setup-136"><a href="#PPLaser.cleansweep_setup-136"><span class="linenos">136</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser.cleansweep_setup-137"><a href="#PPLaser.cleansweep_setup-137"><span class="linenos">137</span></a><span class="sd">        A wrapper function that takes the start and end frequencies</span>
</span><span id="PPLaser.cleansweep_setup-138"><a href="#PPLaser.cleansweep_setup-138"><span class="linenos">138</span></a><span class="sd">        you would like to sweep over. It computes and sets the clean sweep</span>
</span><span id="PPLaser.cleansweep_setup-139"><a href="#PPLaser.cleansweep_setup-139"><span class="linenos">139</span></a><span class="sd">        amplitude and the midpoint.</span>
</span><span id="PPLaser.cleansweep_setup-140"><a href="#PPLaser.cleansweep_setup-140"><span class="linenos">140</span></a>
</span><span id="PPLaser.cleansweep_setup-141"><a href="#PPLaser.cleansweep_setup-141"><span class="linenos">141</span></a><span class="sd">        The clean sweep operation will begin in the center of the high and low.</span>
</span><span id="PPLaser.cleansweep_setup-142"><a href="#PPLaser.cleansweep_setup-142"><span class="linenos">142</span></a>
</span><span id="PPLaser.cleansweep_setup-143"><a href="#PPLaser.cleansweep_setup-143"><span class="linenos">143</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.cleansweep_setup-144"><a href="#PPLaser.cleansweep_setup-144"><span class="linenos">144</span></a>
</span><span id="PPLaser.cleansweep_setup-145"><a href="#PPLaser.cleansweep_setup-145"><span class="linenos">145</span></a>        <span class="k">if</span> <span class="n">freq_low</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_min</span> <span class="ow">or</span> <span class="n">freq_high</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frequency_max</span><span class="p">:</span>
</span><span id="PPLaser.cleansweep_setup-146"><a href="#PPLaser.cleansweep_setup-146"><span class="linenos">146</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="PPLaser.cleansweep_setup-147"><a href="#PPLaser.cleansweep_setup-147"><span class="linenos">147</span></a>                <span class="s2">&quot;The range you would like to sweep over&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleansweep_setup-148"><a href="#PPLaser.cleansweep_setup-148"><span class="linenos">148</span></a>                <span class="s2">&quot;is outside of the bounds for this laser&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleansweep_setup-149"><a href="#PPLaser.cleansweep_setup-149"><span class="linenos">149</span></a>            <span class="p">)</span>
</span><span id="PPLaser.cleansweep_setup-150"><a href="#PPLaser.cleansweep_setup-150"><span class="linenos">150</span></a>
</span><span id="PPLaser.cleansweep_setup-151"><a href="#PPLaser.cleansweep_setup-151"><span class="linenos">151</span></a>        <span class="c1"># sets the clean sweep amplitude rounded to the nearest MHz.</span>
</span><span id="PPLaser.cleansweep_setup-152"><a href="#PPLaser.cleansweep_setup-152"><span class="linenos">152</span></a>        <span class="n">cs_ampl</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">freq_high</span> <span class="o">-</span> <span class="n">freq_low</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e3</span><span class="p">)</span>
</span><span id="PPLaser.cleansweep_setup-153"><a href="#PPLaser.cleansweep_setup-153"><span class="linenos">153</span></a>        <span class="k">if</span> <span class="n">cs_ampl</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
</span><span id="PPLaser.cleansweep_setup-154"><a href="#PPLaser.cleansweep_setup-154"><span class="linenos">154</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="PPLaser.cleansweep_setup-155"><a href="#PPLaser.cleansweep_setup-155"><span class="linenos">155</span></a>                <span class="s2">&quot;This is an error specific to SpectrumLab.&quot;</span>
</span><span id="PPLaser.cleansweep_setup-156"><a href="#PPLaser.cleansweep_setup-156"><span class="linenos">156</span></a>                <span class="s2">&quot;Our laser has a 50GHz maximum cleansweep range.&quot;</span>
</span><span id="PPLaser.cleansweep_setup-157"><a href="#PPLaser.cleansweep_setup-157"><span class="linenos">157</span></a>                <span class="s2">&quot;You should change the limit in source for your laser.&quot;</span>
</span><span id="PPLaser.cleansweep_setup-158"><a href="#PPLaser.cleansweep_setup-158"><span class="linenos">158</span></a>                <span class="s2">&quot;If you know a way to query the laser for this value&quot;</span>
</span><span id="PPLaser.cleansweep_setup-159"><a href="#PPLaser.cleansweep_setup-159"><span class="linenos">159</span></a>                <span class="s2">&quot;then implementing that would be better.&quot;</span>
</span><span id="PPLaser.cleansweep_setup-160"><a href="#PPLaser.cleansweep_setup-160"><span class="linenos">160</span></a>            <span class="p">)</span>
</span><span id="PPLaser.cleansweep_setup-161"><a href="#PPLaser.cleansweep_setup-161"><span class="linenos">161</span></a>
</span><span id="PPLaser.cleansweep_setup-162"><a href="#PPLaser.cleansweep_setup-162"><span class="linenos">162</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_cleansweep_amplitude</span><span class="p">(</span><span class="n">cs_ampl</span><span class="p">)</span>
</span><span id="PPLaser.cleansweep_setup-163"><a href="#PPLaser.cleansweep_setup-163"><span class="linenos">163</span></a>
</span><span id="PPLaser.cleansweep_setup-164"><a href="#PPLaser.cleansweep_setup-164"><span class="linenos">164</span></a>        <span class="n">cs_center</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">freq_low</span> <span class="o">+</span> <span class="n">freq_high</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e4</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-4</span>
</span><span id="PPLaser.cleansweep_setup-165"><a href="#PPLaser.cleansweep_setup-165"><span class="linenos">165</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">cs_center</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A wrapper function that takes the start and end frequencies
you would like to sweep over. It computes and sets the clean sweep
amplitude and the midpoint.</p>

<p>The clean sweep operation will begin in the center of the high and low.</p>
</div>


                            </div>
                            <div id="PPLaser.get_cleansweep_rate" class="classattr">
                                        <input id="PPLaser.get_cleansweep_rate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_cleansweep_rate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.get_cleansweep_rate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.get_cleansweep_rate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.get_cleansweep_rate-167"><a href="#PPLaser.get_cleansweep_rate-167"><span class="linenos">167</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.get_cleansweep_rate-168"><a href="#PPLaser.get_cleansweep_rate-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the clean sweep rate. not sure about units.&quot;&quot;&quot;</span>
</span><span id="PPLaser.get_cleansweep_rate-169"><a href="#PPLaser.get_cleansweep_rate-169"><span class="linenos">169</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_csrate</span><span class="p">()</span>
</span><span id="PPLaser.get_cleansweep_rate-170"><a href="#PPLaser.get_cleansweep_rate-170"><span class="linenos">170</span></a>        <span class="n">cs_rate</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>
</span><span id="PPLaser.get_cleansweep_rate-171"><a href="#PPLaser.get_cleansweep_rate-171"><span class="linenos">171</span></a>        <span class="k">return</span> <span class="n">cs_rate</span>
</span></pre></div>


            <div class="docstring"><p>Gets the clean sweep rate. not sure about units.</p>
</div>


                            </div>
                            <div id="PPLaser.set_cleansweep_rate" class="classattr">
                                        <input id="PPLaser.set_cleansweep_rate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_cleansweep_rate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">rate_MHz</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.set_cleansweep_rate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.set_cleansweep_rate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.set_cleansweep_rate-173"><a href="#PPLaser.set_cleansweep_rate-173"><span class="linenos">173</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate_MHz</span><span class="p">):</span>
</span><span id="PPLaser.set_cleansweep_rate-174"><a href="#PPLaser.set_cleansweep_rate-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;sets the cleansweep rate in MHz/sec</span>
</span><span id="PPLaser.set_cleansweep_rate-175"><a href="#PPLaser.set_cleansweep_rate-175"><span class="linenos">175</span></a><span class="sd">        idk if there is a way to check if its within some bounds.</span>
</span><span id="PPLaser.set_cleansweep_rate-176"><a href="#PPLaser.set_cleansweep_rate-176"><span class="linenos">176</span></a><span class="sd">        There is conflicting info in the pure photonics docs.&quot;&quot;&quot;</span>
</span><span id="PPLaser.set_cleansweep_rate-177"><a href="#PPLaser.set_cleansweep_rate-177"><span class="linenos">177</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;Dont use this. Need to confirm the units for the sweep rate.&quot;</span><span class="p">)</span>
</span><span id="PPLaser.set_cleansweep_rate-178"><a href="#PPLaser.set_cleansweep_rate-178"><span class="linenos">178</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_csrate</span><span class="p">(</span><span class="n">rate_MHz</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>sets the cleansweep rate in MHz/sec
idk if there is a way to check if its within some bounds.
There is conflicting info in the pure photonics docs.</p>
</div>


                            </div>
                            <div id="PPLaser.get_cleansweep_offset" class="classattr">
                                        <input id="PPLaser.get_cleansweep_offset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_cleansweep_offset</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.get_cleansweep_offset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.get_cleansweep_offset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.get_cleansweep_offset-180"><a href="#PPLaser.get_cleansweep_offset-180"><span class="linenos">180</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_cleansweep_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.get_cleansweep_offset-181"><a href="#PPLaser.get_cleansweep_offset-181"><span class="linenos">181</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;This is not implemented yet.&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="PPLaser.set_cleansweep_offset" class="classattr">
                                        <input id="PPLaser.set_cleansweep_offset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_cleansweep_offset</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">offset</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.set_cleansweep_offset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.set_cleansweep_offset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.set_cleansweep_offset-183"><a href="#PPLaser.set_cleansweep_offset-183"><span class="linenos">183</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleansweep_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
</span><span id="PPLaser.set_cleansweep_offset-184"><a href="#PPLaser.set_cleansweep_offset-184"><span class="linenos">184</span></a>        <span class="k">raise</span> <span class="ne">Warning</span><span class="p">(</span><span class="s2">&quot;This is not implemented yet.&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="PPLaser.cleanjump" class="classattr">
                                        <input id="PPLaser.cleanjump-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cleanjump</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.cleanjump-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.cleanjump"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.cleanjump-186"><a href="#PPLaser.cleanjump-186"><span class="linenos">186</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleanjump</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PPLaser.cleanjump-187"><a href="#PPLaser.cleanjump-187"><span class="linenos">187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Tells the laser to perform the clean jump.</span>
</span><span id="PPLaser.cleanjump-188"><a href="#PPLaser.cleanjump-188"><span class="linenos">188</span></a><span class="sd">        The clean jump must be precalibrated.</span>
</span><span id="PPLaser.cleanjump-189"><a href="#PPLaser.cleanjump-189"><span class="linenos">189</span></a><span class="sd">        You should have the calibration points in your lab notebook</span>
</span><span id="PPLaser.cleanjump-190"><a href="#PPLaser.cleanjump-190"><span class="linenos">190</span></a><span class="sd">        or written down somewhere.</span>
</span><span id="PPLaser.cleanjump-191"><a href="#PPLaser.cleanjump-191"><span class="linenos">191</span></a><span class="sd">        If not you should perform the clean jump calibration.&quot;&quot;&quot;</span>
</span><span id="PPLaser.cleanjump-192"><a href="#PPLaser.cleanjump-192"><span class="linenos">192</span></a>        <span class="n">mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mode</span><span class="p">()</span>
</span><span id="PPLaser.cleanjump-193"><a href="#PPLaser.cleanjump-193"><span class="linenos">193</span></a>        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">Mode</span><span class="o">.</span><span class="n">normal</span><span class="p">:</span>
</span><span id="PPLaser.cleanjump-194"><a href="#PPLaser.cleanjump-194"><span class="linenos">194</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
</span><span id="PPLaser.cleanjump-195"><a href="#PPLaser.cleanjump-195"><span class="linenos">195</span></a>                <span class="s2">&quot;Laser in normal mode. You must be in nodither&quot;</span>
</span><span id="PPLaser.cleanjump-196"><a href="#PPLaser.cleanjump-196"><span class="linenos">196</span></a>                <span class="s2">&quot;or whisper mode to use cleanjump.&quot;</span>
</span><span id="PPLaser.cleanjump-197"><a href="#PPLaser.cleanjump-197"><span class="linenos">197</span></a>            <span class="p">)</span>
</span><span id="PPLaser.cleanjump-198"><a href="#PPLaser.cleanjump-198"><span class="linenos">198</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjstart</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Tells the laser to perform the clean jump.
The clean jump must be precalibrated.
You should have the calibration points in your lab notebook
or written down somewhere.
If not you should perform the clean jump calibration.</p>
</div>


                            </div>
                            <div id="PPLaser.set_cleanjump" class="classattr">
                                        <input id="PPLaser.set_cleanjump-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_cleanjump</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">freq_jump</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.set_cleanjump-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.set_cleanjump"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.set_cleanjump-200"><a href="#PPLaser.set_cleanjump-200"><span class="linenos">200</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_cleanjump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq_jump</span><span class="p">):</span>
</span><span id="PPLaser.set_cleanjump-201"><a href="#PPLaser.set_cleanjump-201"><span class="linenos">201</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser.set_cleanjump-202"><a href="#PPLaser.set_cleanjump-202"><span class="linenos">202</span></a><span class="sd">        Set the size of the jump in THz to the fourth decimal place.</span>
</span><span id="PPLaser.set_cleanjump-203"><a href="#PPLaser.set_cleanjump-203"><span class="linenos">203</span></a><span class="sd">        XXX.XXXX</span>
</span><span id="PPLaser.set_cleanjump-204"><a href="#PPLaser.set_cleanjump-204"><span class="linenos">204</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.set_cleanjump-205"><a href="#PPLaser.set_cleanjump-205"><span class="linenos">205</span></a>        <span class="n">freq_jump</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">freq_jump</span> <span class="o">*</span> <span class="mf">1e4</span><span class="p">))</span>
</span><span id="PPLaser.set_cleanjump-206"><a href="#PPLaser.set_cleanjump-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjthz</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">freq_jump</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]))</span>
</span><span id="PPLaser.set_cleanjump-207"><a href="#PPLaser.set_cleanjump-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cjghz</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">freq_jump</span><span class="p">[</span><span class="mi">3</span><span class="p">:]))</span>
</span></pre></div>


            <div class="docstring"><p>Set the size of the jump in THz to the fourth decimal place.
XXX.XXXX</p>
</div>


                            </div>
                            <div id="PPLaser.cleanjump_calibration" class="classattr">
                                        <input id="PPLaser.cleanjump_calibration-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cleanjump_calibration</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fcf</span>, </span><span class="param"><span class="n">grid</span>, </span><span class="param"><span class="n">pwr</span>, </span><span class="param"><span class="n">n_jumppoints</span>, </span><span class="param"><span class="n">confirmation</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PPLaser.cleanjump_calibration-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PPLaser.cleanjump_calibration"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PPLaser.cleanjump_calibration-209"><a href="#PPLaser.cleanjump_calibration-209"><span class="linenos">209</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleanjump_calibration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fcf</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">pwr</span><span class="p">,</span> <span class="n">n_jumppoints</span><span class="p">,</span> <span class="n">confirmation</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="PPLaser.cleanjump_calibration-210"><a href="#PPLaser.cleanjump_calibration-210"><span class="linenos">210</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PPLaser.cleanjump_calibration-211"><a href="#PPLaser.cleanjump_calibration-211"><span class="linenos">211</span></a><span class="sd">        This is a grid based calibration</span>
</span><span id="PPLaser.cleanjump_calibration-212"><a href="#PPLaser.cleanjump_calibration-212"><span class="linenos">212</span></a>
</span><span id="PPLaser.cleanjump_calibration-213"><a href="#PPLaser.cleanjump_calibration-213"><span class="linenos">213</span></a><span class="sd">        **fcf**: the first channel frequency you would like to</span>
</span><span id="PPLaser.cleanjump_calibration-214"><a href="#PPLaser.cleanjump_calibration-214"><span class="linenos">214</span></a><span class="sd">        begin calibration at. (THz)</span>
</span><span id="PPLaser.cleanjump_calibration-215"><a href="#PPLaser.cleanjump_calibration-215"><span class="linenos">215</span></a>
</span><span id="PPLaser.cleanjump_calibration-216"><a href="#PPLaser.cleanjump_calibration-216"><span class="linenos">216</span></a><span class="sd">        **grid**: the grid spacing (GHz)</span>
</span><span id="PPLaser.cleanjump_calibration-217"><a href="#PPLaser.cleanjump_calibration-217"><span class="linenos">217</span></a>
</span><span id="PPLaser.cleanjump_calibration-218"><a href="#PPLaser.cleanjump_calibration-218"><span class="linenos">218</span></a><span class="sd">        **pwr**: The power calibration will be at. (dBm)</span>
</span><span id="PPLaser.cleanjump_calibration-219"><a href="#PPLaser.cleanjump_calibration-219"><span class="linenos">219</span></a>
</span><span id="PPLaser.cleanjump_calibration-220"><a href="#PPLaser.cleanjump_calibration-220"><span class="linenos">220</span></a><span class="sd">        **n_jumppoints**: The number of grid points to calibrate.</span>
</span><span id="PPLaser.cleanjump_calibration-221"><a href="#PPLaser.cleanjump_calibration-221"><span class="linenos">221</span></a>
</span><span id="PPLaser.cleanjump_calibration-222"><a href="#PPLaser.cleanjump_calibration-222"><span class="linenos">222</span></a><span class="sd">        **confirmation**: If you would like to go ahead and confirm yes</span>
</span><span id="PPLaser.cleanjump_calibration-223"><a href="#PPLaser.cleanjump_calibration-223"><span class="linenos">223</span></a><span class="sd">        and skip the user input you can set confirmation to &#39;y&#39;</span>
</span><span id="PPLaser.cleanjump_calibration-224"><a href="#PPLaser.cleanjump_calibration-224"><span class="linenos">224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PPLaser.cleanjump_calibration-225"><a href="#PPLaser.cleanjump_calibration-225"><span class="linenos">225</span></a>
</span><span id="PPLaser.cleanjump_calibration-226"><a href="#PPLaser.cleanjump_calibration-226"><span class="linenos">226</span></a>        <span class="c1"># calibration begins by writing the number of channels to 0xD2</span>
</span><span id="PPLaser.cleanjump_calibration-227"><a href="#PPLaser.cleanjump_calibration-227"><span class="linenos">227</span></a>
</span><span id="PPLaser.cleanjump_calibration-228"><a href="#PPLaser.cleanjump_calibration-228"><span class="linenos">228</span></a>        <span class="n">calibration_points</span> <span class="o">=</span> <span class="p">[</span><span class="n">fcf</span> <span class="o">+</span> <span class="n">grid</span> <span class="o">*</span> <span class="n">n</span> <span class="o">*</span> <span class="mf">1e-3</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_jumppoints</span><span class="p">)]</span>
</span><span id="PPLaser.cleanjump_calibration-229"><a href="#PPLaser.cleanjump_calibration-229"><span class="linenos">229</span></a>
</span><span id="PPLaser.cleanjump_calibration-230"><a href="#PPLaser.cleanjump_calibration-230"><span class="linenos">230</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="PPLaser.cleanjump_calibration-231"><a href="#PPLaser.cleanjump_calibration-231"><span class="linenos">231</span></a>            <span class="sa">f</span><span class="s2">&quot;You are calibrating </span><span class="si">{</span><span class="n">n_jumppoints</span><span class="si">}</span><span class="s2"> clean jump setpoints&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleanjump_calibration-232"><a href="#PPLaser.cleanjump_calibration-232"><span class="linenos">232</span></a>            <span class="sa">f</span><span class="s2">&quot;at frequencies:</span><span class="se">\n</span><span class="si">{</span><span class="n">calibration_points</span><span class="si">}</span><span class="s2">(THz).&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleanjump_calibration-233"><a href="#PPLaser.cleanjump_calibration-233"><span class="linenos">233</span></a>            <span class="sa">f</span><span class="s2">&quot;With power = </span><span class="si">{</span><span class="n">pwr</span><span class="si">}</span><span class="s2">(dBm).&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleanjump_calibration-234"><a href="#PPLaser.cleanjump_calibration-234"><span class="linenos">234</span></a>        <span class="p">)</span>
</span><span id="PPLaser.cleanjump_calibration-235"><a href="#PPLaser.cleanjump_calibration-235"><span class="linenos">235</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="PPLaser.cleanjump_calibration-236"><a href="#PPLaser.cleanjump_calibration-236"><span class="linenos">236</span></a>            <span class="s2">&quot;Write these down in your lab notebook because&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleanjump_calibration-237"><a href="#PPLaser.cleanjump_calibration-237"><span class="linenos">237</span></a>            <span class="s2">&quot;you cannot query the device for these values later.&quot;</span><span class="p">,</span>
</span><span id="PPLaser.cleanjump_calibration-238"><a href="#PPLaser.cleanjump_calibration-238"><span class="linenos">238</span></a>        <span class="p">)</span>
</span><span id="PPLaser.cleanjump_calibration-239"><a href="#PPLaser.cleanjump_calibration-239"><span class="linenos">239</span></a>
</span><span id="PPLaser.cleanjump_calibration-240"><a href="#PPLaser.cleanjump_calibration-240"><span class="linenos">240</span></a>        <span class="k">if</span> <span class="n">confirmation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="PPLaser.cleanjump_calibration-241"><a href="#PPLaser.cleanjump_calibration-241"><span class="linenos">241</span></a>            <span class="n">confirmation</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Is the information above correct? (y/n): &quot;</span><span class="p">)</span>
</span><span id="PPLaser.cleanjump_calibration-242"><a href="#PPLaser.cleanjump_calibration-242"><span class="linenos">242</span></a>
</span><span id="PPLaser.cleanjump_calibration-243"><a href="#PPLaser.cleanjump_calibration-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="n">confirmation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span>
</span><span id="PPLaser.cleanjump_calibration-244"><a href="#PPLaser.cleanjump_calibration-244"><span class="linenos">244</span></a>            <span class="c1"># set up the first channel frequency, grid spacing, and power</span>
</span><span id="PPLaser.cleanjump_calibration-245"><a href="#PPLaser.cleanjump_calibration-245"><span class="linenos">245</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">fcf</span><span class="p">)</span>
</span><span id="PPLaser.cleanjump_calibration-246"><a href="#PPLaser.cleanjump_calibration-246"><span class="linenos">246</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
</span><span id="PPLaser.cleanjump_calibration-247"><a href="#PPLaser.cleanjump_calibration-247"><span class="linenos">247</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_power</span><span class="p">(</span><span class="n">pwr</span><span class="p">)</span>
</span><span id="PPLaser.cleanjump_calibration-248"><a href="#PPLaser.cleanjump_calibration-248"><span class="linenos">248</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cleanjump_calibration</span><span class="p">(</span><span class="n">n_jumppoints</span><span class="p">)</span>
</span><span id="PPLaser.cleanjump_calibration-249"><a href="#PPLaser.cleanjump_calibration-249"><span class="linenos">249</span></a>
</span><span id="PPLaser.cleanjump_calibration-250"><a href="#PPLaser.cleanjump_calibration-250"><span class="linenos">250</span></a>        <span class="k">elif</span> <span class="n">confirmation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span>
</span><span id="PPLaser.cleanjump_calibration-251"><a href="#PPLaser.cleanjump_calibration-251"><span class="linenos">251</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="PPLaser.cleanjump_calibration-252"><a href="#PPLaser.cleanjump_calibration-252"><span class="linenos">252</span></a>                <span class="sa">f</span><span class="s2">&quot;You answered </span><span class="si">{</span><span class="n">confirmation</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="s2">&quot;Calibration will not be performed.&quot;</span>
</span><span id="PPLaser.cleanjump_calibration-253"><a href="#PPLaser.cleanjump_calibration-253"><span class="linenos">253</span></a>            <span class="p">)</span>
</span><span id="PPLaser.cleanjump_calibration-254"><a href="#PPLaser.cleanjump_calibration-254"><span class="linenos">254</span></a>
</span><span id="PPLaser.cleanjump_calibration-255"><a href="#PPLaser.cleanjump_calibration-255"><span class="linenos">255</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="PPLaser.cleanjump_calibration-256"><a href="#PPLaser.cleanjump_calibration-256"><span class="linenos">256</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;input not recognized&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This is a grid based calibration</p>

<p><strong>fcf</strong>: the first channel frequency you would like to
begin calibration at. (THz)</p>

<p><strong>grid</strong>: the grid spacing (GHz)</p>

<p><strong>pwr</strong>: The power calibration will be at. (dBm)</p>

<p><strong>n_jumppoints</strong>: The number of grid points to calibrate.</p>

<p><strong>confirmation</strong>: If you would like to go ahead and confirm yes
and skip the user input you can set confirmation to 'y'</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="itla12.html#ITLA12">itla.itla12.ITLA12</a></dt>
                                <dd id="PPLaser.sleep_time" class="variable"><a href="itla12.html#ITLA12.sleep_time">sleep_time</a></dd>
                <dd id="PPLaser.nop" class="function"><a href="itla12.html#ITLA12.nop">nop</a></dd>
                <dd id="PPLaser.enable" class="function"><a href="itla12.html#ITLA12.enable">enable</a></dd>
                <dd id="PPLaser.disable" class="function"><a href="itla12.html#ITLA12.disable">disable</a></dd>
                <dd id="PPLaser.hard_reset" class="function"><a href="itla12.html#ITLA12.hard_reset">hard_reset</a></dd>
                <dd id="PPLaser.soft_reset" class="function"><a href="itla12.html#ITLA12.soft_reset">soft_reset</a></dd>
                <dd id="PPLaser.get_reset_enable" class="function"><a href="itla12.html#ITLA12.get_reset_enable">get_reset_enable</a></dd>
                <dd id="PPLaser.set_alarm_during_tuning" class="function"><a href="itla12.html#ITLA12.set_alarm_during_tuning">set_alarm_during_tuning</a></dd>
                <dd id="PPLaser.set_shutdown_on_fatal" class="function"><a href="itla12.html#ITLA12.set_shutdown_on_fatal">set_shutdown_on_fatal</a></dd>
                <dd id="PPLaser.get_configuration_behavior" class="function"><a href="itla12.html#ITLA12.get_configuration_behavior">get_configuration_behavior</a></dd>
                <dd id="PPLaser.is_disabled" class="function"><a href="itla12.html#ITLA12.is_disabled">is_disabled</a></dd>
                <dd id="PPLaser.is_enabled" class="function"><a href="itla12.html#ITLA12.is_enabled">is_enabled</a></dd>
                <dd id="PPLaser.get_device_type" class="function"><a href="itla12.html#ITLA12.get_device_type">get_device_type</a></dd>
                <dd id="PPLaser.get_manufacturer" class="function"><a href="itla12.html#ITLA12.get_manufacturer">get_manufacturer</a></dd>
                <dd id="PPLaser.get_model" class="function"><a href="itla12.html#ITLA12.get_model">get_model</a></dd>
                <dd id="PPLaser.get_serialnumber" class="function"><a href="itla12.html#ITLA12.get_serialnumber">get_serialnumber</a></dd>
                <dd id="PPLaser.get_manufacturing_date" class="function"><a href="itla12.html#ITLA12.get_manufacturing_date">get_manufacturing_date</a></dd>
                <dd id="PPLaser.get_firmware_release" class="function"><a href="itla12.html#ITLA12.get_firmware_release">get_firmware_release</a></dd>
                <dd id="PPLaser.get_backwardscompatibility" class="function"><a href="itla12.html#ITLA12.get_backwardscompatibility">get_backwardscompatibility</a></dd>
                <dd id="PPLaser.get_general_module_configuration" class="function"><a href="itla12.html#ITLA12.get_general_module_configuration">get_general_module_configuration</a></dd>
                <dd id="PPLaser.set_general_module_configuration" class="function"><a href="itla12.html#ITLA12.set_general_module_configuration">set_general_module_configuration</a></dd>
                <dd id="PPLaser.get_iocap" class="function"><a href="itla12.html#ITLA12.get_iocap">get_iocap</a></dd>
                <dd id="PPLaser.set_iocap" class="function"><a href="itla12.html#ITLA12.set_iocap">set_iocap</a></dd>
                <dd id="PPLaser.read_aea" class="function"><a href="itla12.html#ITLA12.read_aea">read_aea</a></dd>
                <dd id="PPLaser.get_download_configuration" class="function"><a href="itla12.html#ITLA12.get_download_configuration">get_download_configuration</a></dd>
                <dd id="PPLaser.set_download_configuration" class="function"><a href="itla12.html#ITLA12.set_download_configuration">set_download_configuration</a></dd>
                <dd id="PPLaser.get_download_status" class="function"><a href="itla12.html#ITLA12.get_download_status">get_download_status</a></dd>
                <dd id="PPLaser.wait" class="function"><a href="itla12.html#ITLA12.wait">wait</a></dd>
                <dd id="PPLaser.wait_until_enabled" class="function"><a href="itla12.html#ITLA12.wait_until_enabled">wait_until_enabled</a></dd>
                <dd id="PPLaser.wait_until_disabled" class="function"><a href="itla12.html#ITLA12.wait_until_disabled">wait_until_disabled</a></dd>
                <dd id="PPLaser.set_power" class="function"><a href="itla12.html#ITLA12.set_power">set_power</a></dd>
                <dd id="PPLaser.get_power_setting" class="function"><a href="itla12.html#ITLA12.get_power_setting">get_power_setting</a></dd>
                <dd id="PPLaser.get_power_output" class="function"><a href="itla12.html#ITLA12.get_power_output">get_power_output</a></dd>
                <dd id="PPLaser.get_power_min" class="function"><a href="itla12.html#ITLA12.get_power_min">get_power_min</a></dd>
                <dd id="PPLaser.get_power_max" class="function"><a href="itla12.html#ITLA12.get_power_max">get_power_max</a></dd>
                <dd id="PPLaser.set_frequency" class="function"><a href="itla12.html#ITLA12.set_frequency">set_frequency</a></dd>
                <dd id="PPLaser.get_fcf" class="function"><a href="itla12.html#ITLA12.get_fcf">get_fcf</a></dd>
                <dd id="PPLaser.get_frequency" class="function"><a href="itla12.html#ITLA12.get_frequency">get_frequency</a></dd>
                <dd id="PPLaser.dither_enable" class="function"><a href="itla12.html#ITLA12.dither_enable">dither_enable</a></dd>
                <dd id="PPLaser.dither_disable" class="function"><a href="itla12.html#ITLA12.dither_disable">dither_disable</a></dd>
                <dd id="PPLaser.set_dither_rate" class="function"><a href="itla12.html#ITLA12.set_dither_rate">set_dither_rate</a></dd>
                <dd id="PPLaser.get_dither_rate" class="function"><a href="itla12.html#ITLA12.get_dither_rate">get_dither_rate</a></dd>
                <dd id="PPLaser.set_dither_frequency" class="function"><a href="itla12.html#ITLA12.set_dither_frequency">set_dither_frequency</a></dd>
                <dd id="PPLaser.get_dither_frequency" class="function"><a href="itla12.html#ITLA12.get_dither_frequency">get_dither_frequency</a></dd>
                <dd id="PPLaser.set_dither_amplitude" class="function"><a href="itla12.html#ITLA12.set_dither_amplitude">set_dither_amplitude</a></dd>
                <dd id="PPLaser.get_dither_amplitude" class="function"><a href="itla12.html#ITLA12.get_dither_amplitude">get_dither_amplitude</a></dd>
                <dd id="PPLaser.get_temp" class="function"><a href="itla12.html#ITLA12.get_temp">get_temp</a></dd>
                <dd id="PPLaser.get_frequency_min" class="function"><a href="itla12.html#ITLA12.get_frequency_min">get_frequency_min</a></dd>
                <dd id="PPLaser.get_frequency_max" class="function"><a href="itla12.html#ITLA12.get_frequency_max">get_frequency_max</a></dd>
                <dd id="PPLaser.get_grid_min" class="function"><a href="itla12.html#ITLA12.get_grid_min">get_grid_min</a></dd>
                <dd id="PPLaser.set_grid" class="function"><a href="itla12.html#ITLA12.set_grid">set_grid</a></dd>
                <dd id="PPLaser.get_grid" class="function"><a href="itla12.html#ITLA12.get_grid">get_grid</a></dd>
                <dd id="PPLaser.get_age" class="function"><a href="itla12.html#ITLA12.get_age">get_age</a></dd>
                <dd id="PPLaser.set_channel" class="function"><a href="itla12.html#ITLA12.set_channel">set_channel</a></dd>
                <dd id="PPLaser.get_channel" class="function"><a href="itla12.html#ITLA12.get_channel">get_channel</a></dd>
                <dd id="PPLaser.set_fine_tuning" class="function"><a href="itla12.html#ITLA12.set_fine_tuning">set_fine_tuning</a></dd>
                <dd id="PPLaser.get_fine_tuning" class="function"><a href="itla12.html#ITLA12.get_fine_tuning">get_fine_tuning</a></dd>
                <dd id="PPLaser.get_ftf_range" class="function"><a href="itla12.html#ITLA12.get_ftf_range">get_ftf_range</a></dd>
                <dd id="PPLaser.get_temps" class="function"><a href="itla12.html#ITLA12.get_temps">get_temps</a></dd>
                <dd id="PPLaser.get_currents" class="function"><a href="itla12.html#ITLA12.get_currents">get_currents</a></dd>
                <dd id="PPLaser.get_last_response" class="function"><a href="itla12.html#ITLA12.get_last_response">get_last_response</a></dd>
                <dd id="PPLaser.get_error_fatal" class="function"><a href="itla12.html#ITLA12.get_error_fatal">get_error_fatal</a></dd>
                <dd id="PPLaser.get_error_warning" class="function"><a href="itla12.html#ITLA12.get_error_warning">get_error_warning</a></dd>
                <dd id="PPLaser.get_fatal_power_thresh" class="function"><a href="itla12.html#ITLA12.get_fatal_power_thresh">get_fatal_power_thresh</a></dd>
                <dd id="PPLaser.get_warning_power_thresh" class="function"><a href="itla12.html#ITLA12.get_warning_power_thresh">get_warning_power_thresh</a></dd>
                <dd id="PPLaser.get_fatal_freq_thresh" class="function"><a href="itla12.html#ITLA12.get_fatal_freq_thresh">get_fatal_freq_thresh</a></dd>
                <dd id="PPLaser.get_warning_freq_thresh" class="function"><a href="itla12.html#ITLA12.get_warning_freq_thresh">get_warning_freq_thresh</a></dd>
                <dd id="PPLaser.get_fatal_therm_thresh" class="function"><a href="itla12.html#ITLA12.get_fatal_therm_thresh">get_fatal_therm_thresh</a></dd>
                <dd id="PPLaser.get_warning_therm_thresh" class="function"><a href="itla12.html#ITLA12.get_warning_therm_thresh">get_warning_therm_thresh</a></dd>
                <dd id="PPLaser.get_srq_trigger" class="function"><a href="itla12.html#ITLA12.get_srq_trigger">get_srq_trigger</a></dd>
                <dd id="PPLaser.get_fatal_trigger" class="function"><a href="itla12.html#ITLA12.get_fatal_trigger">get_fatal_trigger</a></dd>
                <dd id="PPLaser.get_alm_trigger" class="function"><a href="itla12.html#ITLA12.get_alm_trigger">get_alm_trigger</a></dd>

            </div>
            <div><dt><a href="itla.html#ITLABase">itla.itla.ITLABase</a></dt>
                                <dd id="PPLaser.disconnect" class="function"><a href="itla.html#ITLABase.disconnect">disconnect</a></dd>
                <dd id="PPLaser.send_command" class="function"><a href="itla.html#ITLABase.send_command">send_command</a></dd>
                <dd id="PPLaser.get_response" class="function"><a href="itla.html#ITLABase.get_response">get_response</a></dd>
                <dd id="PPLaser.upgrade_firmware" class="function"><a href="itla.html#ITLABase.upgrade_firmware">upgrade_firmware</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>